
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Python &#8212; Data analysis with Python  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Numpy" href="numpy.html" />
    <link rel="prev" title="Instructions" href="instructions.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="numpy.html" title="Numpy"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="instructions.html" title="Instructions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Data analysis with Python  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 7ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }
</style>
<div class="section" id="Python">
<h1>Python<a class="headerlink" href="#Python" title="Permalink to this headline">¶</a></h1>
<div class="section" id="Basic-concepts">
<h2>Basic concepts<a class="headerlink" href="#Basic-concepts" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Basic-input-and-output">
<h3>Basic input and output<a class="headerlink" href="#Basic-input-and-output" title="Permalink to this headline">¶</a></h3>
<p>The traditional “Hello, world” program is very simple in Python. You can
run the program by selecting the cell by mouse and pressing
control-enter on keyboard. Try editing the string in the quotes and
rerunning the program.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [117]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello world!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Hello world!
</pre></div></div>
</div>
<p>Multiple strings can be printed. By default, they are concatenated with
a space:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [118]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello,&quot;</span><span class="p">,</span> <span class="s2">&quot;John!&quot;</span><span class="p">,</span> <span class="s2">&quot;How are you?&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Hello, John! How are you?
</pre></div></div>
</div>
<p>In the print function, numerical expression are first evaluated and then
automatically converted to strings. Subsequently the strings are
concatenated with spaces:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [119]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;plus&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;equals&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1 plus 2 equals 3
</pre></div></div>
</div>
<p>Reading textual input from the user can be achieved with the input
function. The input function is given a string parameter, which is
printed and prompts the user to give input. In the example below, the
string entered by the user is stored the variable <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [120]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">name</span><span class="o">=</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Give me your name: &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello,&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Give me your name: Jarkko
Hello, Jarkko
</pre></div></div>
</div>
</div>
<div class="section" id="Indentation">
<h3>Indentation<a class="headerlink" href="#Indentation" title="Permalink to this headline">¶</a></h3>
<p>Repetition is possible with the for loop. Note that the body of for loop
is indented whith a tabulator or four spaces. Unlike in some other
languages, braces are not needed to denote the body of the loop. When
the indentation stops the body of the loop ends.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [121]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bye!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Hello
Hello
Hello
Bye!
</pre></div></div>
</div>
<p>Indentation applies to other compound statements as well, such as bodies
of functions, different branches of an if statement, and while loops. We
shall see examples of these later.</p>
<p>The range(3) expression above actually results with the sequence of
integers 0, 1, and 2. So, the range is a half-open interval with the end
point excluded from the range. In general, expression range(n) gives
integers 0, 1, 2, …, n-1. Modify the above program to make it also
print the value of variable i at each iteration. Rerun the code with
control-enter.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise 1 (hello world)</div>
<p>Fill in the missing piece in the solution stub to make it print the
following:</p>
<p><code class="docutils literal notranslate"><span class="pre">Hello,</span> <span class="pre">world!</span></code></p>
<p>Make sure you use correct indenting.</p>
<hr/><hr class="docutils" />
<div class="admonition note">
Exercise 2 (compliment)</div>
<p>Fill in the stub solution to make the program work as follows. The
program should ask the user for an input, and the print an answer as the
examples below show. The string the user entered is shown below in red.</p>
<div class="line-block">
<div class="line">What country are you from? Sweden</div>
<div class="line">I have heard that Sweden is a beautiful country.</div>
</div>
<p>What country are you from? Chile
I have heard that Chile is a beautiful country.</p>
<hr/><hr class="docutils" />
<div class="admonition note">
Exercise 3 (multiplication)</div>
<p>Make a program that gives the following output. You must use a for loop
in your solution.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">4</span> <span class="n">multiplied</span> <span class="n">by</span> <span class="mi">0</span> <span class="ow">is</span> <span class="mi">0</span>
<span class="mi">4</span> <span class="n">multiplied</span> <span class="n">by</span> <span class="mi">1</span> <span class="ow">is</span> <span class="mi">4</span>
<span class="mi">4</span> <span class="n">multiplied</span> <span class="n">by</span> <span class="mi">2</span> <span class="ow">is</span> <span class="mi">8</span>
<span class="mi">4</span> <span class="n">multiplied</span> <span class="n">by</span> <span class="mi">3</span> <span class="ow">is</span> <span class="mi">12</span>
<span class="mi">4</span> <span class="n">multiplied</span> <span class="n">by</span> <span class="mi">4</span> <span class="ow">is</span> <span class="mi">16</span>
<span class="mi">4</span> <span class="n">multiplied</span> <span class="n">by</span> <span class="mi">5</span> <span class="ow">is</span> <span class="mi">20</span>
<span class="mi">4</span> <span class="n">multiplied</span> <span class="n">by</span> <span class="mi">6</span> <span class="ow">is</span> <span class="mi">24</span>
<span class="mi">4</span> <span class="n">multiplied</span> <span class="n">by</span> <span class="mi">7</span> <span class="ow">is</span> <span class="mi">28</span>
<span class="mi">4</span> <span class="n">multiplied</span> <span class="n">by</span> <span class="mi">8</span> <span class="ow">is</span> <span class="mi">32</span>
<span class="mi">4</span> <span class="n">multiplied</span> <span class="n">by</span> <span class="mi">9</span> <span class="ow">is</span> <span class="mi">36</span>
<span class="mi">4</span> <span class="n">multiplied</span> <span class="n">by</span> <span class="mi">10</span> <span class="ow">is</span> <span class="mi">40</span>
</pre></div>
</div>
<hr/></div>
<div class="section" id="Variables-and-data-types">
<h3>Variables and data types<a class="headerlink" href="#Variables-and-data-types" title="Permalink to this headline">¶</a></h3>
<p>We saw already earlier that assigning a value to variable is very
simple:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [122]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">a</span><span class="o">=</span><span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1
</pre></div></div>
</div>
<p>Note that we did not need to introduce the variable a in any way. No
type was given for the variable. Python automatically detected that the
type of a must be int. We can query the type of a variable with the
builtin function type:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [123]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[123]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>int
</pre></div>
</div>
</div>
<p>Note also that the type of a variable is not fixed:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [124]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">a</span><span class="o">=</span><span class="s2">&quot;some text&quot;</span>
<span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[124]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>str
</pre></div>
</div>
</div>
<p>In Python the type of a variable is not attached to the name of the
variable, like in C for instance, but instead with the actual value.
This is called dynamic typing.</p>
<div class="figure" id="id2">
<img alt="typing.svg" src="_images/typing.svg" /><p class="caption"><span class="caption-text">typing.svg</span></p>
</div>
<p>We say that a variable is a name that <em>refers</em> to a value or and object,
and the assignment operator <em>binds</em> a variable name to a value.</p>
<p>The basic data types in Python are: int, float, complex, str (a string),
bool (a boolean with values True and False), and bytes. Below are few
examples of their use.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [125]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">i</span><span class="o">=</span><span class="mi">5</span>
<span class="n">f</span><span class="o">=</span><span class="mf">1.5</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">i</span><span class="o">==</span><span class="mi">4</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Result of the comparison:&quot;</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="o">+</span><span class="mi">2</span><span class="n">j</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Complex multiplication:&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">*</span><span class="n">c</span><span class="p">)</span>
<span class="n">s</span><span class="o">=</span><span class="s2">&quot;conca&quot;</span> <span class="o">+</span> <span class="s2">&quot;tenation&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Result of the comparison: False
Complex multiplication: (-4+0j)
concatenation
</pre></div></div>
</div>
<p>The names of the types act as conversion operators between types:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [126]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="o">-</span><span class="mf">2.8</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="s2">&quot;123&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="nb">bool</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>  <span class="c1"># Zero is interpreted as False</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">234</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
-2
2.0
123
True False
234
</pre></div></div>
</div>
<p>A <em>byte</em> can represent numbers between 0 and 255. A byte consists of 8
<em>bits</em>, which can in turn represent either 0 or 1. All the data that is
stored on disks or transmitted across the internet are sequences of
bytes. Normally we don’t have to care about bytes, since our strings and
other variables are automatically converted to a sequence of bytes when
needed to. An example of the correspondence between the usual data types
and bytes is the characters in a string. A single character is encoded
as a sequence of one or more bytes. For example, in the common
<a class="reference external" href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a> encoding the character
<code class="docutils literal notranslate"><span class="pre">c</span></code> corresponds to the byte with integer value 99 and the character
<code class="docutils literal notranslate"><span class="pre">ä</span></code> corresponds to sequence of bytes [195, 164]. An example conversion
between characters and bytes:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [127]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">b</span><span class="o">=</span><span class="s2">&quot;ä&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>     <span class="c1"># Convert character(s) to a sequence of bytes</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>                  <span class="c1"># Prints bytes in hexadecimal notation</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>            <span class="c1"># Prints bytes in decimal notation</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
b&#39;\xc3\xa4&#39;
[195, 164]
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [128]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">bytes</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>  <span class="c1"># convert sequence of bytes to character(s)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[128]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;ä&#39;
</pre></div>
</div>
</div>
<p>During this course we don’t have to care much about bytes, but in some
cases, when loading data sets, we might have to specify the encoding if
it deviates from the default one.</p>
<div class="section" id="Creating-strings">
<h4>Creating strings<a class="headerlink" href="#Creating-strings" title="Permalink to this headline">¶</a></h4>
<p>A string is a sequence of characters commonly used to store input or
output data in a program. The characters of a string are specified
either between single (‘) or double (“) quotes. This optionaly is useful
if a string needs to contain a quotation mark: “I don’t want to go!”.
You can also achieve this by <em>escaping</em> the quotation mark with the
backslash: ‘I don’t want to go’.</p>
<p>The string can also contain other escape sequences like</p>
<div class="math notranslate nohighlight">
\n</div><p>for newline and</p>
<div class="math notranslate nohighlight">
\t</div><p>for a tabulator. See
<a class="reference external" href="https://docs.python.org/3/reference/lexical_analysis.html#literals">literals</a>
for a list of all escape sequences.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [129]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;One</span><span class="se">\t</span><span class="s2">Two</span><span class="se">\n</span><span class="s2">Three</span><span class="se">\t</span><span class="s2">Four&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
One     Two
Three   Four
</pre></div></div>
</div>
<p>A string containing newlines can be easily given within triple double or
triple single quotes:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [130]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;A string</span>
<span class="s2">spanning over</span>
<span class="s2">several lines&quot;&quot;&quot;</span>
</pre></div>
</div>
</div>
<p>Although we can concatenate strings using the + operator, for effiency
reasons, one should use the join method to concatenate largen number of
strings:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [131]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">a</span><span class="o">=</span><span class="s2">&quot;first&quot;</span>
<span class="n">b</span><span class="o">=</span><span class="s2">&quot;second&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">]))</span>   <span class="c1"># More about the join method later</span>

</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
firstsecond
first second second first
</pre></div></div>
</div>
<p>Sometimes printing by concatenation from pieces can be clumsy:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [132]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; plus &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; is equal to &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="c1"># slightly better</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;plus&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;is equal to&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1 plus 3 is equal to 4
1 plus 3 is equal to 4
</pre></div></div>
</div>
<p>The multiple catenation and quotation characters break the flow of
thought. <em>String interpolation</em> offers somewhat easier syntax:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [133]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%i</span><span class="s2"> plus </span><span class="si">%i</span><span class="s2"> is equal to </span><span class="si">%i</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1 plus 3 is equal to 4
</pre></div></div>
</div>
<p>Or alternatively using the newer format-method:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [134]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2"> plus </span><span class="si">{}</span><span class="s2"> is equal to </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1 plus 3 is equal to 4
</pre></div></div>
</div>
<p>The %i format specifier corresponds to integers and the specifier %f
corresponds to floats. It is often useful to specify the number of
decimals when printing the float:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [135]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%.1f</span><span class="s2"> </span><span class="si">%.2f</span><span class="s2"> </span><span class="si">%.3f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="mf">1.6</span><span class="p">,</span> <span class="mf">1.7</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">))</span>               <span class="c1"># Old style</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2"> </span><span class="si">{:.2f}</span><span class="s2"> </span><span class="si">{:.3f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mf">1.6</span><span class="p">,</span> <span class="mf">1.7</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">))</span>     <span class="c1"># new style</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1.6 1.70 1.800
1.6 1.70 1.800
</pre></div></div>
</div>
<p>The specifier <code class="docutils literal notranslate"><span class="pre">%s</span></code> is used for strings. An example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [136]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> concatenated with </span><span class="si">%s</span><span class="s2"> produces </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;water&quot;</span><span class="p">,</span> <span class="s2">&quot;melon&quot;</span><span class="p">,</span> <span class="s2">&quot;water&quot;</span><span class="o">+</span><span class="s2">&quot;melon&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
water concatenated with melon produces watermelon
</pre></div></div>
</div>
<p>Look <a class="reference external" href="https://pyformat.info/#number">here</a> for more details about
format specifiers, and for comparison between the old and new style of
string interpolation.</p>
</div>
</div>
<div class="section" id="Expressions">
<h3>Expressions<a class="headerlink" href="#Expressions" title="Permalink to this headline">¶</a></h3>
<p>An <em>expression</em> is a piece of Python code that results in a value. It
consists of values combined together with <em>operators</em>. Values can be
literals, such as <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">1.2</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;text&quot;</span></code>, or variables. Operators
include arithmetics operators, comparison operators, function call,
indexing, attribute references, among others. Below there are a few
examples of expressions:</p>
<p><code class="docutils literal notranslate"><span class="pre">1+2</span> <span class="pre">7/(2+0.1)</span> <span class="pre">a</span> <span class="pre">cos(0)</span> <span class="pre">mylist[1]</span> <span class="pre">c</span> <span class="pre">&gt;</span> <span class="pre">0</span> <span class="pre">and</span> <span class="pre">c</span> <span class="pre">!=1</span> <span class="pre">(1,2,3)</span> <span class="pre">a&lt;5</span> <span class="pre">obj.attr</span> <span class="pre">(-1)**2</span> <span class="pre">==</span> <span class="pre">1</span></code></p>
<div class="admonition warning">
Note that in Python the operator <code class="docutils literal notranslate"><span class="pre">//</span></code> performs integer division and
operator <code class="docutils literal notranslate"><span class="pre">/</span></code> performs float division. The <code class="docutils literal notranslate"><span class="pre">**</span></code> operator denotes
exponentiation. These operators might therefore behave differently than
in many other comman languages.</div>
<p>As another example the following expression computes the kinetic energy
of a non-rotating object: <code class="docutils literal notranslate"><span class="pre">0.5</span> <span class="pre">*</span> <span class="pre">mass</span> <span class="pre">*</span> <span class="pre">velocity**2</span></code></p>
</div>
<div class="section" id="Statements">
<h3>Statements<a class="headerlink" href="#Statements" title="Permalink to this headline">¶</a></h3>
<p>Statements are command that have some effect. For example, a function
call (that is not part of another expression) is a statement. Also, the
variable assignment is a statement:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [137]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>    <span class="c1"># This is a commong idion to increment the value of i by one</span>
<span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>     <span class="c1"># This is a short-hand for the above</span>
</pre></div>
</div>
</div>
<p>It turns out that the operators <code class="docutils literal notranslate"><span class="pre">+</span> <span class="pre">-</span> <span class="pre">*</span> <span class="pre">/</span> <span class="pre">//</span> <span class="pre">%</span> <span class="pre">&amp;</span> <span class="pre">|</span> <span class="pre">^</span> <span class="pre">&gt;&gt;</span> <span class="pre">&lt;&lt;</span> <span class="pre">**</span></code> have the
corresponding <em>augmented assignment operators</em>
<code class="docutils literal notranslate"><span class="pre">+=</span> <span class="pre">-=</span> <span class="pre">*=</span> <span class="pre">/=</span> <span class="pre">//=</span> <span class="pre">%=</span> <span class="pre">&amp;=</span> <span class="pre">|=</span> <span class="pre">^=</span> <span class="pre">&gt;&gt;=</span> <span class="pre">&lt;&lt;=</span> <span class="pre">**=</span></code></p>
<p>Another large set of statements if the flow-control statements such as
if-else, for and while loops. We will look into these in the next
sections.</p>
<div class="section" id="Loops-for-repetitive-tasks">
<h4>Loops for repetitive tasks<a class="headerlink" href="#Loops-for-repetitive-tasks" title="Permalink to this headline">¶</a></h4>
<p>In Python we have two kinds of loops: while and for. We briefly saw the
for loop earlier. Let’s now look at the while loop. A while loop repeats
a set of statements while a given condition holds. An example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [138]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">i</span><span class="o">=</span><span class="mi">1</span>
<span class="k">while</span> <span class="n">i</span><span class="o">*</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">1000</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Square of&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s2">&quot;is&quot;</span><span class="p">,</span> <span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Finished printing all the squares below 1000.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Square of 1 is 1
Square of 2 is 4
Square of 3 is 9
Square of 4 is 16
Square of 5 is 25
Square of 6 is 36
Square of 7 is 49
Square of 8 is 64
Square of 9 is 81
Square of 10 is 100
Square of 11 is 121
Square of 12 is 144
Square of 13 is 169
Square of 14 is 196
Square of 15 is 225
Square of 16 is 256
Square of 17 is 289
Square of 18 is 324
Square of 19 is 361
Square of 20 is 400
Square of 21 is 441
Square of 22 is 484
Square of 23 is 529
Square of 24 is 576
Square of 25 is 625
Square of 26 is 676
Square of 27 is 729
Square of 28 is 784
Square of 29 is 841
Square of 30 is 900
Square of 31 is 961
Finished printing all the squares below 1000.
</pre></div></div>
</div>
<p>Note again that the body of the while statement was marked with the
indentation.</p>
<p>Another way of repeating statements is with the for statement. An
example</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [139]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span><span class="o">=</span><span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]:</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="n">i</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The sum is&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The sum is 45
</pre></div></div>
</div>
<p>The for loop executes the statements in the block as many times as there
are elements in the given list. At each iteration the variable i refers
to another value from the list in order. Instead of the giving the list
explicitly as above, we could have used the <em>generator</em> range(10) which
returns values from the sequence 0,1,…,9 as the for loop asks for a
new value. In the most general form the for loop goes through all the
elements in an <em>iterable</em>. Besides lists and generators there are other
iterables. We will talk about iterables and generators later this week.</p>
<p>When one wants to iterate through all the elements in an iterable, then
the for loop is a natural choice. But sometimes while loops offer
cleaner solution. For instance, if we want to go through all Fibonacci
number up till a given limit, then it is easier to do with a <code class="docutils literal notranslate"><span class="pre">while</span></code>
loop.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise X (multiplication table)</div>
<p>In the main function print a multiplication table, which is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mi">1</span>   <span class="mi">2</span>   <span class="mi">3</span>   <span class="mi">4</span>   <span class="mi">5</span>   <span class="mi">6</span>   <span class="mi">7</span>   <span class="mi">8</span>   <span class="mi">9</span>  <span class="mi">10</span>
 <span class="mi">2</span>   <span class="mi">4</span>   <span class="mi">6</span>   <span class="mi">8</span>  <span class="mi">10</span>  <span class="mi">12</span>  <span class="mi">14</span>  <span class="mi">16</span>  <span class="mi">18</span>  <span class="mi">20</span>
 <span class="mi">3</span>   <span class="mi">6</span>   <span class="mi">9</span>  <span class="mi">12</span>  <span class="mi">15</span>  <span class="mi">18</span>  <span class="mi">21</span>  <span class="mi">24</span>  <span class="mi">27</span>  <span class="mi">30</span>
 <span class="mi">4</span>   <span class="mi">8</span>  <span class="mi">12</span>  <span class="mi">16</span>  <span class="mi">20</span>  <span class="mi">24</span>  <span class="mi">28</span>  <span class="mi">32</span>  <span class="mi">36</span>  <span class="mi">40</span>
 <span class="mi">5</span>  <span class="mi">10</span>  <span class="mi">15</span>  <span class="mi">20</span>  <span class="mi">25</span>  <span class="mi">30</span>  <span class="mi">35</span>  <span class="mi">40</span>  <span class="mi">45</span>  <span class="mi">50</span>
 <span class="mi">6</span>  <span class="mi">12</span>  <span class="mi">18</span>  <span class="mi">24</span>  <span class="mi">30</span>  <span class="mi">36</span>  <span class="mi">42</span>  <span class="mi">48</span>  <span class="mi">54</span>  <span class="mi">60</span>
 <span class="mi">7</span>  <span class="mi">14</span>  <span class="mi">21</span>  <span class="mi">28</span>  <span class="mi">35</span>  <span class="mi">42</span>  <span class="mi">49</span>  <span class="mi">56</span>  <span class="mi">63</span>  <span class="mi">70</span>
 <span class="mi">8</span>  <span class="mi">16</span>  <span class="mi">24</span>  <span class="mi">32</span>  <span class="mi">40</span>  <span class="mi">48</span>  <span class="mi">56</span>  <span class="mi">64</span>  <span class="mi">72</span>  <span class="mi">80</span>
 <span class="mi">9</span>  <span class="mi">18</span>  <span class="mi">27</span>  <span class="mi">36</span>  <span class="mi">45</span>  <span class="mi">54</span>  <span class="mi">63</span>  <span class="mi">72</span>  <span class="mi">81</span>  <span class="mi">90</span>
<span class="mi">10</span>  <span class="mi">20</span>  <span class="mi">30</span>  <span class="mi">40</span>  <span class="mi">50</span>  <span class="mi">60</span>  <span class="mi">70</span>  <span class="mi">80</span>  <span class="mi">90</span> <span class="mi">100</span>
</pre></div>
</div>
<p>For example at row 4 and column 9 we have 4*9=36.</p>
<p>Use two nested for loops to achive this. Note that you can use the
following form to stop the <code class="docutils literal notranslate"><span class="pre">print</span></code> function from automatically
starting a new line:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [140]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;more text&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
textmore text
</pre></div></div>
</div>
<p>Print the numbers in a field with width four, so that the numbers are
nicely aligned. For instructions on how adjust the field width refer to
<a class="reference external" href="https://pyformat.info/#number_padding">pyformat.info</a>.</p>
<hr/></div>
<div class="section" id="Decision-making-with-the-if-statement">
<h4>Decision making with the if statement<a class="headerlink" href="#Decision-making-with-the-if-statement" title="Permalink to this headline">¶</a></h4>
<p>The if-else statement works as can be expected. Try running the below
cell by pressing control+enter.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [141]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">x</span><span class="o">=</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Give an integer: &quot;</span><span class="p">)</span>
<span class="n">x</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">a</span><span class="o">=</span><span class="n">x</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">a</span><span class="o">=-</span><span class="n">x</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The absolute value of </span><span class="si">%i</span><span class="s2"> is </span><span class="si">%i</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Give an integer: -1
The absolute value of -1 is 1
</pre></div></div>
</div>
<p>The general from of an if-else statement is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">condition1</span><span class="p">:</span>
    <span class="n">statement1_1</span>
    <span class="n">statement1_2</span>
    <span class="o">...</span>
<span class="k">elif</span> <span class="n">condition2</span><span class="p">:</span>
    <span class="n">statement2_1</span>
    <span class="n">statement2_2</span>
    <span class="o">...</span>
<span class="o">...</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">statementn_1</span>
    <span class="n">statementn_2</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Another example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [142]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">c</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Give a number: &quot;</span><span class="p">))</span>
<span class="k">if</span> <span class="n">c</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c is positive&quot;</span><span class="p">)</span>
<span class="k">elif</span> <span class="n">c</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c is negative&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;c is zero&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Give a number: -3
c is negative
</pre></div></div>
</div>
</div>
<div class="section" id="Breaking-and-continuing-loop">
<h4>Breaking and continuing loop<a class="headerlink" href="#Breaking-and-continuing-loop" title="Permalink to this headline">¶</a></h4>
<p>Breaking the loop, when the wanted element is found, with the <code class="docutils literal notranslate"><span class="pre">break</span></code>
statement:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [143]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">l</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">56</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">break</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The first negative list element was&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The first negative list element was -1
</pre></div></div>
</div>
<p>Stopping current iteration and continuing to the next one with the
<code class="docutils literal notranslate"><span class="pre">continue</span></code> statement:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [144]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">math</span> <span class="k">import</span> <span class="n">sqrt</span><span class="p">,</span> <span class="n">log</span>
<span class="n">l</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">65</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">56</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">]</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Square root of </span><span class="si">%i</span><span class="s2"> is </span><span class="si">%f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Natural logarithm of </span><span class="si">%i</span><span class="s2"> is </span><span class="si">%f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Square root of 1 is 1.000000
Natural logarithm of 1 is 0.000000
Square root of 3 is 1.732051
Natural logarithm of 3 is 1.098612
Square root of 65 is 8.062258
Natural logarithm of 65 is 4.174387
Square root of 3 is 1.732051
Natural logarithm of 3 is 1.098612
Square root of 56 is 7.483315
Natural logarithm of 56 is 4.025352
</pre></div></div>
</div>
<hr class="docutils" />
<div class="admonition note">
Exercise X (two dice)</div>
<p>Let us consider throwing two dice. (A dice can give a value between 1
and 6.) Use two nested <code class="docutils literal notranslate"><span class="pre">for</span></code> loops in the <code class="docutils literal notranslate"><span class="pre">main</span></code> function to iterate
through all possible combinations the pair of dice can give. There are
36 possible combinations. Print all those combinations as pairs that sum
to 5. For example, your printout should include the pair (2,3). Print
one pair per line.</p>
<hr/></div>
</div>
<div class="section" id="Functions">
<h3>Functions<a class="headerlink" href="#Functions" title="Permalink to this headline">¶</a></h3>
<p>A function is defined with the <code class="docutils literal notranslate"><span class="pre">def</span></code> statement. Let’s do a doubling
function.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [145]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">double</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="s2">&quot;This function multiplies its argument by two.&quot;</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">double</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">double</span><span class="p">(</span><span class="mf">1.2</span><span class="p">),</span> <span class="n">double</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">))</span> <span class="c1"># It even happens to work for strings!</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
8 2.4 abcabc
</pre></div></div>
</div>
<p>The double function takes only one parameter. Notice the <em>docstring</em> on
the second line. It documents the purpose and usage of the function.
Let’s try to access it.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [146]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The docstring is:&quot;</span><span class="p">,</span> <span class="n">double</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
<span class="n">help</span><span class="p">(</span><span class="n">double</span><span class="p">)</span>   <span class="c1"># Another way to access the docstring</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The docstring is: This function multiplies its argument by two.
Help on function double in module __main__:

double(x)
    This function multiplies its argument by two.

</pre></div></div>
</div>
<p>Most of Python’s builtin functions, classes, and modules should contain
a docstring.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [147]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">help</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Help on built-in function print in module builtins:

print(...)
    print(value, ..., sep=&#39; &#39;, end=&#39;\n&#39;, file=sys.stdout, flush=False)

    Prints the values to a stream, or to sys.stdout by default.
    Optional keyword arguments:
    file:  a file-like object (stream); defaults to the current sys.stdout.
    sep:   string inserted between values, default a space.
    end:   string appended after the last value, default a newline.
    flush: whether to forcibly flush the stream.

</pre></div></div>
</div>
<p>Here’s another example function:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [148]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">sum_of_squares</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="s2">&quot;Computes the sum of arguments squared&quot;</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">**</span><span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sum_of_squares</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
25
</pre></div></div>
</div>
<div class="admonition warning">
Note the terminology: in the function definition the names a and b are
called <em>parameters</em> of the function; in the function call, however, 3
and 4 are called <em>arguments</em> to the function.</div>
<p>It would be nice that the number of arguments could be arbitrary, not
just two. We could pass a list to the function as a parameter.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [149]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">sum_of_squares</span><span class="p">(</span><span class="n">lst</span><span class="p">):</span>
    <span class="s2">&quot;Computes the sum of squares of elements in the list given as parameter&quot;</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lst</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">s</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sum_of_squares</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sum_of_squares</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
4
45
</pre></div></div>
</div>
<p>This works perfectly! There is however some extra typing with the
brackets around the lists. Let’s see if we can do better:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [150]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">sum_of_squares</span><span class="p">(</span><span class="o">*</span><span class="n">t</span><span class="p">):</span>
    <span class="s2">&quot;Computes the sum of squares of arbitrary number of arguments&quot;</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
    <span class="k">return</span> <span class="n">s</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sum_of_squares</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sum_of_squares</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
4
45
</pre></div></div>
</div>
<p>The strange looking argument notation is called <em>argument packing</em>. It
packs all the given positional arguments into a tuple <code class="docutils literal notranslate"><span class="pre">t</span></code>. We will
encounter tuples again later, but it suffices now to say that tuples are
immutable lists. With the for loop we can iterate through all the
elements in the tuple.</p>
<p>Conversely, there is also syntax for <em>argument unpacking</em>. It has
confusingly exactly same notation as argument packing, but they are
separated by the location where used. Packing happens in the parameter
list of the functions definition, and unpacking happens where the
function is called:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [151]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">lst</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;With list unpacked as arguments to the functions:&quot;</span><span class="p">,</span> <span class="n">sum_of_squares</span><span class="p">(</span><span class="o">*</span><span class="n">lst</span><span class="p">))</span>
<span class="c1"># print(sum_of_squares(lst))    # Does not work correctly</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
With list unpacked as arguments to the functions: 90
</pre></div></div>
</div>
<p>The second call failed because the function tried to raise the list of
numbers to the second power. Inside the function body we have
t=([1,5,8]), where the parentheses denote a tuple with one element, a
list.</p>
<p>In addition to positional parameters we have seen so far, a function can
also have <em>named parameters</em>. An example will explain this concept best:</p>
<p>One can also specify optional parameter by giving the parameters a
default value. The parameters that have default values must come after
those parameters that don’t. We saw that the parameters of the print
function were of form
<code class="docutils literal notranslate"><span class="pre">print(value,</span> <span class="pre">...,</span> <span class="pre">sep='</span> <span class="pre">',</span> <span class="pre">end='\n',</span> <span class="pre">file=sys.stdout,</span> <span class="pre">flush=False)</span></code>.
There were four parameters with default values. If some default values
don’t suit us, we give them in the function call using the name of the
parameter:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [152]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; |&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39; -*- &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;first&quot;</span><span class="p">,</span> <span class="s2">&quot;second&quot;</span><span class="p">,</span> <span class="s2">&quot;third&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; |&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39; -*- &#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1 -*- 2 -*- 3 |first -*- second -*- third |
</pre></div></div>
</div>
<p>Note that the named arguments didn’t need to be in the same order as in
the function definition. Nor did we need to specify all the parameters
with default values, only those we wanted to change.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [153]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">length</span><span class="p">(</span><span class="o">*</span><span class="n">t</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Computes the length of the vector given as parameter. By default, it computes</span>
<span class="sd">    the Euclidean distance (degree==2)&quot;&quot;&quot;</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="n">degree</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">degree</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">length</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">length</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
5.0
4.497941445275415
</pre></div></div>
</div>
<p>With the default parameter this is the Euclidean distance, and if
<span class="math notranslate nohighlight">\(p\ne 2\)</span> it is called
<a class="reference external" href="https://en.wikipedia.org/wiki/P-norm">p-norm</a>.</p>
<p>We saw that it was possible to use packing and unpacking of arguments
with the * notation, when one wants to specify arbitrary number of
<em>positional arguments</em>. This is also possible for arbitrary number of
named arguments with the <code class="docutils literal notranslate"><span class="pre">**</span></code> notation. We will talk about this more
in the data structures section.</p>
<div class="section" id="Visibility-of-variables">
<h4>Visibility of variables<a class="headerlink" href="#Visibility-of-variables" title="Permalink to this headline">¶</a></h4>
<p>Function definition creates a new namespace (also called local scope).
Variables created inside this scope are not available from outside the
function definition. Also, the function parameters are only visible
inside the function definition. Variables that are not defined inside
any function are called <code class="docutils literal notranslate"><span class="pre">global</span> <span class="pre">variables</span></code>.</p>
<p>Global variable are readable also in local scopes, but an assignment
creates a new local variable without rebinding the global variable. If
we are inside a function, a local variable hides a global variable by
the same name:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [154]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">i</span><span class="o">=</span><span class="mi">2</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="n">i</span><span class="o">=</span><span class="mi">3</span>       <span class="c1"># this creates a new variable, it does not rebind the global i</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># This will print 3</span>
<span class="n">f</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>      <span class="c1"># This will print 2</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
3
2
</pre></div></div>
</div>
<p>If you really need to rebind a global variable from a function, use the
<code class="docutils literal notranslate"><span class="pre">global</span></code> statement. Example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [155]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">i</span><span class="o">=</span><span class="mi">2</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">i</span>
    <span class="n">i</span><span class="o">=</span><span class="mi">5</span>       <span class="c1"># rebind the global i variable</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># This will print 5</span>
<span class="n">f</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>      <span class="c1"># This will print 5</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
5
5
</pre></div></div>
</div>
<p>Unlike languages like C or C++, Python allows defining a function inside
another function. This <em>nested</em> function will have nested scope:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [156]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>            <span class="c1"># outer function</span>
    <span class="n">b</span><span class="o">=</span><span class="mi">2</span>
    <span class="k">def</span> <span class="nf">g</span><span class="p">():</span>        <span class="c1"># inner function</span>
        <span class="c1">#nonlocal b # Without this nonlocal statement,</span>
        <span class="n">b</span><span class="o">=</span><span class="mi">3</span>         <span class="c1"># this will create a new local variable</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="n">g</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="n">f</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
3
2
</pre></div></div>
</div>
<p>Try first running the above cell and see the result. Then uncomment the
nonlocal stamement and run the cell again. The <code class="docutils literal notranslate"><span class="pre">global</span></code> and
<code class="docutils literal notranslate"><span class="pre">nonlocal</span></code> statements are similar. The first will force a variable
refer to a global variable, and the second will force a variable to
refer to the variable in the nearest outer scope (but not the global
scope).</p>
<hr class="docutils" />
<div class="admonition note">
Exercise X (triple square)</div>
<p>Write two functions: <code class="docutils literal notranslate"><span class="pre">triple</span></code> and <code class="docutils literal notranslate"><span class="pre">square</span></code>. Function <code class="docutils literal notranslate"><span class="pre">triple</span></code>
multiplies its parameter by three. Function <code class="docutils literal notranslate"><span class="pre">square</span></code> raises its
parameter to the power of two. For example, we have equalities
<code class="docutils literal notranslate"><span class="pre">triple(5)==15</span></code> and <code class="docutils literal notranslate"><span class="pre">square(5)==25</span></code>.</p>
<p>Part 1.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">main</span></code> function write a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop that iterates through
values 1 to 10, and for each value prints its triple and its square. The
output should be as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">triple</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="mi">3</span> <span class="n">square</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span>
<span class="n">triple</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">==</span><span class="mi">6</span> <span class="n">square</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">==</span><span class="mi">4</span>
<span class="o">...</span>
</pre></div>
</div>
<p>Part 2.</p>
<p>Now modify this <code class="docutils literal notranslate"><span class="pre">for</span></code> loop so that it stops iteration when the square
of a value is larger than the triple of the value, without printing
anything in the last iteration.</p>
<hr/><hr class="docutils" />
<div class="admonition note">
Exercise X (areas of shapes)</div>
<p>Create a program that can compute the areas of three shapes, triangles,
rectangles and circles, when their dimensions are given. An endless loop
should ask for which shape you want the area be calculated. If the user
gives a string that is none of the given shapes, the message “unknown
shape!” should be printed. An empty string will exit the loop. Then it
will ask for dimensions for that particular shape. When all the
necessary dimensions are given, it prints the area, and starts the loop
all over again. Use format specifier “%f” for the radius. What happens
if you give incorrect dimensions, like giving string “aa” as radius? You
don’t have to check for errors in the input.</p>
<p>Example interaction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Choose a shape (triangle, rectangle, circle): triangle
Give base of the triangle: 20
Give height of the triangle: 5
The area is 50.000000
Choose a shape (triangle, rectangle, circle): rectangel
Unknown shape!
Choose a shape (triangle, rectangle, circle): rectangle
Give width of the rectangle: 20
Give height of the rectangle: 4
The area is 80.000000
Choose a shape (triangle, rectangle, circle): circle
Give radius of the circle: 10
The area is 314.159265
Choose a shape (triangle, rectangle, circle):
</pre></div>
</div>
<hr/></div>
</div>
<div class="section" id="Data-structures">
<h3>Data structures<a class="headerlink" href="#Data-structures" title="Permalink to this headline">¶</a></h3>
<p>The main data structures in Python are stringss, lists, tuples,
dictionaries, and sets. We saw some examples of lists, when we discussed
for loops. And we saw briefly tuples when we introduced argument packing
and unpacking. Let’s get into more details now.</p>
<div class="section" id="Sequences">
<h4>Sequences<a class="headerlink" href="#Sequences" title="Permalink to this headline">¶</a></h4>
<p>A <em>list</em> contains arbitrary number of elements (even zero) that are
stored in sequential order. The elements are separated by commas and
written between brackets. The elements don’t need to be of the same
type. An example of a list with four values:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [157]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[157]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[2, 100, &#39;hello&#39;, 1.0]
</pre></div>
</div>
</div>
<p>A <em>tuple</em> is fixed length, immutable, and ordered container. Elements of
tuple are separated by commas and written between parentheses. Examples
of tuples:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [158]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="p">(</span><span class="mi">3</span><span class="p">,)</span>               <span class="c1"># a singleton</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>              <span class="c1"># a pair</span>
<span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span> <span class="c1"># a triple</span>
</pre></div>
</div>
</div>
<div class="admonition warning">
Note the difference between <code class="docutils literal notranslate"><span class="pre">(3)</span></code> and <code class="docutils literal notranslate"><span class="pre">(3,)</span></code>. The first one defines
an integer, and the second one defines a tuple with single element.</div>
<p>As we can see, both lists and tuples can contain values different type.</p>
<p>List, tuples, and strings are called <em>sequences</em> in Python, and they
have several commonalities:</p>
<ul class="simple">
<li>their length can be queried with the <code class="docutils literal notranslate"><span class="pre">len</span></code> function</li>
<li><code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code> function find the minimum and maximum element of
a sequence, and <code class="docutils literal notranslate"><span class="pre">sum</span></code> adds all the elements of numbers together</li>
<li>Sequences can be concatenated with the <code class="docutils literal notranslate"><span class="pre">+</span></code> operator, and repeated
with the <code class="docutils literal notranslate"><span class="pre">*</span></code> operator: <code class="docutils literal notranslate"><span class="pre">&quot;hi&quot;*3==&quot;hihihi&quot;</span></code></li>
<li>Since sequences are ordered, we can refer to the elements of a
sequences by integers using the <em>indexing</em> notation:
<code class="docutils literal notranslate"><span class="pre">&quot;abcd&quot;[2]</span> <span class="pre">==</span> <span class="pre">&quot;c&quot;</span></code></li>
<li>Note that the indexing begins from 0</li>
<li>Negative integers start indexing from the end: -1 refers to the last
element, -1 refers to the second last, and so on</li>
</ul>
<p>Above we saw that we can access a single element of a sequence using
indexing. If we want a subset of a sequence, we can use the <em>slicing</em>
syntax. A slice consists of elements of the original sequence, and it is
itself a sequence as well. A simple slice is a range of elements:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [159]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span><span class="o">=</span><span class="s2">&quot;abcdefg&quot;</span>
<span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[159]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;bcd&#39;
</pre></div>
</div>
</div>
<p>Note that Python ranges exclude the last index. The generic form of a
slice is <code class="docutils literal notranslate"><span class="pre">sequence[first:last:step]</span></code>. If any of the three parameters
are left out, they are set to default values as follows: first=0,
last=len(L), step=1. So, for instance “abcde”[1:]==”bcde”. The step
parameter selects elements that are step distance apart from each other.
For example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [160]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">][::</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0, 3, 6, 9]
</pre></div></div>
</div>
<hr class="docutils" />
<div class="admonition note">
Exercise X (solve quadratic)</div>
<p>In mathematics, the quadratic equation <span class="math notranslate nohighlight">\(ax^2+bx+c=0\)</span> can be solved
with the formula <span class="math notranslate nohighlight">\(x=\frac{-b\pm \sqrt{b^2 -4ac}}{2a}\)</span>.</p>
<p>Write a function <code class="docutils literal notranslate"><span class="pre">solve_quadratic</span></code>, that returns both solutions of a
generic quadratic as a pair (2-tuple) when the coefficients are given as
parameters. It should work like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">solve_quadratic</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">solve_quadratic</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>Use the <code class="docutils literal notranslate"><span class="pre">math.sqrt</span></code> function from the <code class="docutils literal notranslate"><span class="pre">math</span></code> module in your
solution. Test that your function works in the main function!</p>
<hr/></div>
<div class="section" id="Modifying-lists">
<h4>Modifying lists<a class="headerlink" href="#Modifying-lists" title="Permalink to this headline">¶</a></h4>
<p>We can assign values to elements of a list by indexing or by slicing. An
example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [161]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">11</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">32</span><span class="p">]</span>
<span class="n">L</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span>          <span class="c1"># Changes the third element</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[11, 2, 20, 32]
</pre></div></div>
</div>
<p>Or we can assign a list to a slice:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [162]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[11, 4, 32]
</pre></div></div>
</div>
<p>We can also modify a list by using <em>mutating methods</em> of the list class,
namely the methods <code class="docutils literal notranslate"><span class="pre">append</span></code>, <code class="docutils literal notranslate"><span class="pre">extend</span></code>, <code class="docutils literal notranslate"><span class="pre">insert</span></code>, <code class="docutils literal notranslate"><span class="pre">remove</span></code>,
<code class="docutils literal notranslate"><span class="pre">pop</span></code>, <code class="docutils literal notranslate"><span class="pre">reverse</span></code>, and <code class="docutils literal notranslate"><span class="pre">sort</span></code>. Try Python’s help functionality to
find more about these methods: e.g. <code class="docutils literal notranslate"><span class="pre">help(list.extend)</span></code> or
<code class="docutils literal notranslate"><span class="pre">help(list)</span></code>.</p>
<div class="admonition warning">
Note that we cannot perform these modifications on tuples or strings
since they are <em>immutable</em></div>
</div>
<div class="section" id="Generating-sequences">
<h4>Generating sequences<a class="headerlink" href="#Generating-sequences" title="Permalink to this headline">¶</a></h4>
<p>Trivial lists can be tedious to write: <code class="docutils literal notranslate"><span class="pre">[0,1,2,3,4,5,6]</span></code>. The function
range creates numeric ranges automatically. The above sequence can be
generated with the function call range(7). Note again that then end
value is not included in the sequence. An example of using the range
function:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [163]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="c1"># Note that L is not a list!</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0
1
2
range(0, 3)
</pre></div></div>
</div>
<p>So <code class="docutils literal notranslate"><span class="pre">L</span></code> is not a list, but it is a sequence. We can for instace access
its last element with <code class="docutils literal notranslate"><span class="pre">L[-1]</span></code>. If really needed, then it can be
converted to a list with the <code class="docutils literal notranslate"><span class="pre">list</span></code> constructor:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [164]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
</pre></div></div>
</div>
<div class="admonition warning">
Note that using a range consumes less memory than a corresponding list.
This is because in a list all the elements are stored in the memory,
whereas the range generates the requested elements only when needed. For
example, when the for loop asks for the next element from the range at
each iteration, only a single element from the range exists in memory at
the same time.</div>
<p>The range function works in similar fashion as slices. So, for instance
the step of the sequence can be given:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [165]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0, 2, 4, 6]
</pre></div></div>
</div>
</div>
<div class="section" id="Sorting-sequences">
<h4>Sorting sequences<a class="headerlink" href="#Sorting-sequences" title="Permalink to this headline">¶</a></h4>
<p>In Python there are two ways to sort sequences. The <code class="docutils literal notranslate"><span class="pre">sort</span></code> <em>method</em>
modifies the original list, whereas the <code class="docutils literal notranslate"><span class="pre">sorted</span></code> <em>function</em> returns a
new sorted list and leaves the original intact. A couple of examples
will demonstrate this:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [166]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">L</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>      <span class="c1"># here we call the sort method of the object L</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="n">L2</span><span class="o">=</span><span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">L2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[1, 3, 5, 7]
[1, 3, 6, 6, 7]
[6, 1, 7, 3, 6]
</pre></div></div>
</div>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">reverse=True</span></code> can be given (both to sort and sorted) to
get descending order of elements:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [167]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[7, 5, 3, 1]
</pre></div></div>
</div>
<hr class="docutils" />
<div class="admonition note">
Exercise X (merge)</div>
<p>Suppose we have two lists <code class="docutils literal notranslate"><span class="pre">L1</span></code> and <code class="docutils literal notranslate"><span class="pre">L2</span></code> that contain integers which
are sorted in ascending order. Create a function <code class="docutils literal notranslate"><span class="pre">merge</span></code> that gets
these lists as parameters and returns a new sorted list <code class="docutils literal notranslate"><span class="pre">L</span></code> that has
all the elements of <code class="docutils literal notranslate"><span class="pre">L1</span></code> and <code class="docutils literal notranslate"><span class="pre">L2</span></code>. So, <code class="docutils literal notranslate"><span class="pre">len(L)</span></code> should equal to
<code class="docutils literal notranslate"><span class="pre">len(L1)+len(L2)</span></code>. Do this using the fact that both lists are already
sorted. You can’t to use the <code class="docutils literal notranslate"><span class="pre">sorted</span></code> function or the <code class="docutils literal notranslate"><span class="pre">sort</span></code> method
in implementing the <code class="docutils literal notranslate"><span class="pre">merge</span></code> method. You can however use these
functions in the main function for creating inputs to the <code class="docutils literal notranslate"><span class="pre">merge</span></code>
function. Test with a couple of examples in the <code class="docutils literal notranslate"><span class="pre">main</span></code> function that
your solution works correctly.</p>
<hr/><hr class="docutils" />
<div class="admonition note">
Exercise X (detect ranges)</div>
<p>Create a function named <code class="docutils literal notranslate"><span class="pre">detect_ranges</span></code> that gets a list of integers
as a parameter. The function should then sort this list, and transform
the list into another list where pairs are used for all the detected
intervals. So <code class="docutils literal notranslate"><span class="pre">3,4,5,6</span></code> is replaced by the pair <code class="docutils literal notranslate"><span class="pre">(3,7)</span></code>. Numbers
that are not part of any interval result just single numbers. The
resulting list consists of these numbers and pairs, separated by commas.
An example of how this function works:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">detect_ranges</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">13</span><span class="p">]))</span>
<span class="p">[</span><span class="mi">2</span><span class="p">,(</span><span class="mi">4</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span><span class="mi">10</span><span class="p">,(</span><span class="mi">12</span><span class="p">,</span><span class="mi">14</span><span class="p">)]</span>
</pre></div>
</div>
<p>Note that the second element of the pair does not belong to the range.
This is consistent with the way Python’s <code class="docutils literal notranslate"><span class="pre">range</span></code> function works.</p>
<hr/></div>
<div class="section" id="Zipping-sequences">
<h4>Zipping sequences<a class="headerlink" href="#Zipping-sequences" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">zip</span></code> function combines two (or more) sequences into one sequence.
If, for example, two sequences are zipped together, the resulting list
contains pairs. In general, if <code class="docutils literal notranslate"><span class="pre">n</span></code> sequences are zipped together, the
elements of the resulting list contains <code class="docutils literal notranslate"><span class="pre">n</span></code>-tuples. Here’s an example
of using the <code class="docutils literal notranslate"><span class="pre">zip</span></code> function.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [168]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">days</span><span class="o">=</span><span class="s2">&quot;Monday Tuesday Wednesday Thursday Friday Saturday Sunday&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">weathers</span><span class="o">=</span><span class="s2">&quot;rainy rainy sunny cloudy rainy sunny sunny&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">temperatures</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">]</span>
<span class="k">for</span> <span class="n">day</span><span class="p">,</span> <span class="n">weather</span><span class="p">,</span> <span class="n">temperature</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">days</span><span class="p">,</span><span class="n">weathers</span><span class="p">,</span><span class="n">temperatures</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;On </span><span class="si">%s</span><span class="s2"> it was </span><span class="si">%s</span><span class="s2"> and the temperature was </span><span class="si">%i</span><span class="s2"> degrees celsius.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">day</span><span class="p">,</span><span class="n">weather</span><span class="p">,</span><span class="n">temperature</span><span class="p">))</span>

<span class="c1"># Or equivalently, we following would be shorter:</span>
<span class="c1">#for t in zip(days,weathers,temperatures):</span>
<span class="c1">#    print(&quot;On %s it was %s and the temperature was %i degrees celsius.&quot; % t)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
On Monday it was rainy and the temperature was 10 degrees celsius.
On Tuesday it was rainy and the temperature was 12 degrees celsius.
On Wednesday it was sunny and the temperature was 12 degrees celsius.
On Thursday it was cloudy and the temperature was 9 degrees celsius.
On Friday it was rainy and the temperature was 9 degrees celsius.
On Saturday it was sunny and the temperature was 11 degrees celsius.
On Sunday it was sunny and the temperature was 11 degrees celsius.
</pre></div></div>
</div>
<p>If the sequences are not of equal length, then the resulting sequence
will be as long as the shortest input sequence is.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise X (interleave)</div>
<p>Write function <code class="docutils literal notranslate"><span class="pre">interleave</span></code> that gets arbitrary number of lists as
parameters. You may assume that all the lists have equal length. The
function should return one list containing all the elements from the
input lists interleaved.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">interleave([1,2,3],</span> <span class="pre">[20,30,40],</span> <span class="pre">['a',</span> <span class="pre">'b',</span> <span class="pre">'c'])</span></code> should
return <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">20,</span> <span class="pre">'a',</span> <span class="pre">2,</span> <span class="pre">30,</span> <span class="pre">'b',</span> <span class="pre">3,</span> <span class="pre">40,</span> <span class="pre">'c']</span></code>. Use the <code class="docutils literal notranslate"><span class="pre">zip</span></code>
function and the <code class="docutils literal notranslate"><span class="pre">extend</span></code> method of the list object to implement
<code class="docutils literal notranslate"><span class="pre">interleave</span></code>.</p>
<hr/></div>
<div class="section" id="Enumerating-sequences">
<h4>Enumerating sequences<a class="headerlink" href="#Enumerating-sequences" title="Permalink to this headline">¶</a></h4>
<p>In some other programming languages one iterates through the elements
using their indices (0,1, …) in the sequence. In Python we normally
don’t need to think about indices when iterating, because the for loop
allows simpler iteration through the elements. But sometimes you really
need to know the index of the current element in the sequence. In this
this one uses Python’s <code class="docutils literal notranslate"><span class="pre">enumerate</span></code> function. In the next example we
would like find the second occurrence of integer 5 in a list.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [169]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">98</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span>
<span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">L</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">counter</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">break</span>
<span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
7
</pre></div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">enumerate(L)</span></code> function call can be thought to be equivalent to
<code class="docutils literal notranslate"><span class="pre">zip(range(len(L)),</span> <span class="pre">L)</span></code>.</p>
</div>
<div class="section" id="Dictionaries">
<h4>Dictionaries<a class="headerlink" href="#Dictionaries" title="Permalink to this headline">¶</a></h4>
<p>A <em>dictionary</em> is a dynamic, unordered container. Instead of using
integers to access the elements of the container, the dictionary uses
<em>keys</em> to acces the stored <em>values</em>. The dictionary can be created by
listing the comma separated key-value pairs in braces. Keys and values
are separated by a colon. A tuple (key,value) is called an <em>item</em> of the
dictionary.</p>
<p>Let’s demonstrate the dictionary creation and usage:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [170]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">d</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;key1&quot;</span><span class="p">:</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="s2">&quot;key2&quot;</span><span class="p">:</span><span class="s2">&quot;value2&quot;</span><span class="p">}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;key1&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;key2&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
value1
value2
</pre></div></div>
</div>
<p>Keys can have different types even in the same container. So the
following code is legal: <code class="docutils literal notranslate"><span class="pre">d={1:&quot;a&quot;,</span> <span class="pre">&quot;z&quot;:1}</span></code>. The only restriction is
that the keys must be <em>hashable</em>. That is, there has to be a mapping
from keys to integers. Lists are <em>not</em> hashable, but tuples are!</p>
<p>There are alternative syntaxes for dictionary creation:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [171]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">dict</span><span class="p">([(</span><span class="s2">&quot;key1&quot;</span><span class="p">,</span> <span class="s2">&quot;value1&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;key2&quot;</span><span class="p">,</span> <span class="s2">&quot;value2&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;key3&quot;</span><span class="p">,</span> <span class="s2">&quot;value3&quot;</span><span class="p">)])</span> <span class="c1"># list of items</span>
<span class="nb">dict</span><span class="p">(</span><span class="n">key1</span><span class="o">=</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="n">key2</span><span class="o">=</span><span class="s2">&quot;value2&quot;</span><span class="p">,</span> <span class="n">key3</span><span class="o">=</span><span class="s2">&quot;value3&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>If a key is not found in a dictionary, the indexing <code class="docutils literal notranslate"><span class="pre">d[key]</span></code> results
in an error (<em>exception</em> <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>). But an assignment with
non-existing key causes the key to be added in the dictionary associated
with the corresponding value:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [172]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">d</span><span class="o">=</span><span class="p">{}</span>
<span class="n">d</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;value&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{2: &#39;value&#39;}
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [173]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># d[1]   # This would cause an error</span>
</pre></div>
</div>
</div>
<p>Dictionary object contains several non-mutating methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">has</span> <span class="n">key</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">iterkeys</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">itervalues</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">k</span><span class="p">[,</span><span class="n">x</span><span class="p">])</span>
</pre></div>
</div>
<p>Some methods change the dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">d1</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">k</span><span class="p">[,</span><span class="n">x</span><span class="p">])</span>
<span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">k</span><span class="p">[,</span><span class="n">x</span><span class="p">])</span>
<span class="n">d</span><span class="o">.</span><span class="n">popitem</span><span class="p">()</span>
</pre></div>
</div>
<p>Try out some of these in the below cell. You can find more info with
<code class="docutils literal notranslate"><span class="pre">help(dict)</span></code> or <code class="docutils literal notranslate"><span class="pre">help(dict.keys)</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [174]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">d</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[174]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>dict_values([1, 2, 3, 4, 5])
</pre></div>
</div>
</div>
</div>
<div class="section" id="Sets">
<h4>Sets<a class="headerlink" href="#Sets" title="Permalink to this headline">¶</a></h4>
<p>Set is a dynamic, unordered container. It works a bit like dictionary,
but only the keys are stored. And each key can be stored only once. The
set requires that the keys to be stored are hashable. Below are a few
ways of creating a set:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [175]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span><span class="o">=</span><span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">s</span><span class="o">=</span><span class="nb">set</span><span class="p">()</span>  <span class="c1"># empty set</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span> <span class="c1"># add one element</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{1, 2, &#39;a&#39;}
set()
{7}
</pre></div></div>
</div>
<p>A more useful example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [176]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span><span class="o">=</span><span class="s2">&quot;mississippi&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There are </span><span class="si">%i</span><span class="s2"> distinct characters in </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">s</span><span class="p">)),</span> <span class="n">s</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
There are 4 distinct characters in mississippi
</pre></div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">set</span></code> provides the following non-mutating methods:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [177]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span><span class="o">=</span><span class="nb">set</span><span class="p">()</span>
<span class="n">s1</span><span class="o">=</span><span class="nb">set</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">issuperset</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">difference</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="n">s1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<p>The last four operation can be tedious to write to create a more
complicated expression. The alternative is to use the corresponding
operator forms: <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, and <code class="docutils literal notranslate"><span class="pre">^</span></code>. An example of these:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [178]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span><span class="o">=</span><span class="nb">set</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span>
<span class="n">t</span><span class="o">=</span><span class="nb">set</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Union:&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">|</span><span class="n">t</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Intersection:&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">&amp;</span><span class="n">t</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Difference:&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">-</span><span class="n">t</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Symmetric difference&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">^</span><span class="n">t</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Union: {1, 2, 7, 8, 9}
Intersection: {2}
Difference: {1, 7}
Symmetric difference {1, 7, 8, 9}
</pre></div></div>
</div>
<p>There are also the following mutating methods:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">s</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">discard</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>And the set operators <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, and <code class="docutils literal notranslate"><span class="pre">^</span></code> have the
corresponding mutating, augmented assignment forms: <code class="docutils literal notranslate"><span class="pre">|=</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;=</span></code>,
<code class="docutils literal notranslate"><span class="pre">-=</span></code>, and <code class="docutils literal notranslate"><span class="pre">^=</span></code>.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise X (distinct characters)</div>
<p>Write function <code class="docutils literal notranslate"><span class="pre">distinct_characters</span></code> that gets a list of strings as a
parameter. It should return a dictionary whose keys are the strings of
the input list and the corresponding values are the numbers of distinct
characters in the key.</p>
<p>Use the <code class="docutils literal notranslate"><span class="pre">set</span></code> container to temporarily store the distinct characters
in a string. Example of usage:
<code class="docutils literal notranslate"><span class="pre">distinct_characters([&quot;check&quot;,</span> <span class="pre">&quot;look&quot;,</span> <span class="pre">&quot;try&quot;,</span> <span class="pre">&quot;pop&quot;])</span></code> should return
<code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">&quot;check&quot;</span> <span class="pre">:</span> <span class="pre">4,</span> <span class="pre">&quot;look&quot;</span> <span class="pre">:</span> <span class="pre">3,</span> <span class="pre">&quot;try&quot;</span> <span class="pre">:</span> <span class="pre">3,</span> <span class="pre">&quot;pop&quot;</span> <span class="pre">:</span> <span class="pre">2}</span></code>.</p>
<hr/></div>
<div class="section" id="Miscellaneous-stuff">
<h4>Miscellaneous stuff<a class="headerlink" href="#Miscellaneous-stuff" title="Permalink to this headline">¶</a></h4>
<p>To find out whether a container includes an element, the <code class="docutils literal notranslate"><span class="pre">in</span></code> operator
can be used. The operator returns a truth values. Some examples of the
usage:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [179]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="mi">1</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">d</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;b&quot;</span> <span class="ow">in</span> <span class="n">d</span><span class="p">)</span>
<span class="n">s</span><span class="o">=</span><span class="nb">set</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="mi">1</span> <span class="ow">in</span> <span class="n">s</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
True
False
x text
</pre></div></div>
</div>
<p>As a special case, for string the <code class="docutils literal notranslate"><span class="pre">in</span></code> operator can be used to check
whether a string is part of another string:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [180]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;issi&quot;</span> <span class="ow">in</span> <span class="s2">&quot;mississippi&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;issp&quot;</span> <span class="ow">in</span> <span class="s2">&quot;mississippi&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
True
False
</pre></div></div>
</div>
<p>Elements of a container can be unpacked into variables:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [181]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">first</span><span class="p">,</span> <span class="n">second</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="s2">&quot;bye&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="n">d</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">key1</span><span class="p">,</span> <span class="n">key2</span> <span class="o">=</span> <span class="n">d</span>
<span class="nb">print</span><span class="p">(</span><span class="n">key1</span><span class="p">,</span> <span class="n">key2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
e
a b
</pre></div></div>
</div>
<p>In membership testing and unpacking only the keys of a dictionary are
used, unless either values or items (like below) are explicitly asked.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [182]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;For key &#39;</span><span class="si">%s</span><span class="s2">&#39; value </span><span class="si">%i</span><span class="s2"> was stored&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span><span class="n">value</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
For key &#39;a&#39; value 1 was stored
For key &#39;b&#39; value 3 was stored
</pre></div></div>
</div>
<p>To remove the binding of a variable, use the <code class="docutils literal notranslate"><span class="pre">del</span></code> statement. For
example:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [183]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span><span class="o">=</span><span class="s2">&quot;hello&quot;</span>
<span class="k">del</span> <span class="n">s</span>
<span class="c1"># print(s)    # This would cause an error</span>
</pre></div>
</div>
</div>
<p>To delete an item from a container, the <code class="docutils literal notranslate"><span class="pre">del</span></code> statement can again be
applied:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [184]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">13</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span>
<span class="k">del</span> <span class="n">L</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[13, 40, 100]
</pre></div></div>
</div>
<p>In similar fashion <code class="docutils literal notranslate"><span class="pre">del</span></code> can be used to delete a slice. Later we will
see that <code class="docutils literal notranslate"><span class="pre">del</span></code> can delete attributes from an object.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise X (reverse dictionary)</div>
<p>Let <code class="docutils literal notranslate"><span class="pre">d</span></code> be a dictionary that has English words as keys and a list of
Finnish words as values. So, the dictionary can be used to find out the
Finnish equivalents of an English word in the following way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;move&quot;</span><span class="p">]</span>
<span class="p">[</span><span class="s2">&quot;liikuttaa&quot;</span><span class="p">]</span>
<span class="n">d</span><span class="p">[</span><span class="s2">&quot;hide&quot;</span><span class="p">]</span>
<span class="p">[</span><span class="s2">&quot;piilottaa&quot;</span><span class="p">,</span> <span class="s2">&quot;salata&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Make a function <code class="docutils literal notranslate"><span class="pre">reverse_dictionary</span></code> that creates a Finnish to English
dictionary based on a English to Finnish dictionary given as a
parameter. It should work like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>d={&quot;move&quot;:[&quot;liikuttaa&quot;], &quot;hide&quot;:[&quot;piilottaa&quot;, &quot;salata&quot;]}
reverse_dictionary(d)
{’liikuttaa’: [’move’], ’salata’: [’hide’], ’piilottaa’: [’hide’]}
</pre></div>
</div>
<p>Be careful with synonyms!∎</p>
<hr/><hr class="docutils" />
<div class="admonition note">
Exercise X (find matching)</div>
<p>Write function <code class="docutils literal notranslate"><span class="pre">find_matching</span></code> that gets a list of strings and a
search string as parameters. The function should return the indices to
those elements in the input list that contain the search string.</p>
<p>An example:
<code class="docutils literal notranslate"><span class="pre">find_matching([&quot;sensitive&quot;,</span> <span class="pre">&quot;engine&quot;,</span> <span class="pre">&quot;rubbish&quot;,</span> <span class="pre">&quot;comment&quot;],</span> <span class="pre">&quot;en&quot;)</span></code>
should return the list <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">3]</span></code>.</p>
<hr/></div>
</div>
<div class="section" id="Compact-way-of-creating-data-structures">
<h3>Compact way of creating data structures<a class="headerlink" href="#Compact-way-of-creating-data-structures" title="Permalink to this headline">¶</a></h3>
<p>We can now easily create complicated data structures using for loops:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [185]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">L</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
</pre></div></div>
</div>
<p>Because this kind of pattern is often used, Python offers a short-hand
for this. A <em>list comprehension</em> is an expression that allows creating
complicated lists on one line. The notation is familiar from
mathematics:</p>
<p><span class="math notranslate nohighlight">\(\{a^3 : a \in \{1,2, \ldots, 10\}\}\)</span></p>
<p>The same written in Python as a list comprehension:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [186]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[</span> <span class="n">a</span><span class="o">**</span><span class="mi">3</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[1, 8, 27, 64, 125, 216, 343, 512, 729, 1000]
</pre></div></div>
</div>
<p>The generic from of a list comprehension is:
<code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">expression</span> <span class="pre">for</span> <span class="pre">element</span> <span class="pre">in</span> <span class="pre">iterable</span> <span class="pre">lc-clauses</span> <span class="pre">]</span></code>. Let’s break this
syntax into pieces. The iterable can be any sequence (or something more
general). The lc-clauses consists of zero or more of the following
clauses: * for elem in iterable * if expression</p>
<p>A more complicated example. How would you describe these numbers?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [187]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[</span> <span class="mi">100</span><span class="o">*</span><span class="n">a</span> <span class="o">+</span> <span class="mi">10</span><span class="o">*</span><span class="n">b</span> <span class="o">+</span><span class="n">c</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">a</span> <span class="o">&lt;=</span> <span class="n">b</span> <span class="o">&lt;=</span> <span class="n">c</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 22, 23, 24, 25, 26, 27, 28, 29, 33, 34, 35, 36, 37, 38, 39, 44, 45, 46, 47, 48, 49, 55, 56, 57, 58, 59, 66, 67, 68, 69, 77, 78, 79, 88, 89, 99, 111, 112, 113, 114, 115, 116, 117, 118, 119, 122, 123, 124, 125, 126, 127, 128, 129, 133, 134, 135, 136, 137, 138, 139, 144, 145, 146, 147, 148, 149, 155, 156, 157, 158, 159, 166, 167, 168, 169, 177, 178, 179, 188, 189, 199, 222, 223, 224, 225, 226, 227, 228, 229, 233, 234, 235, 236, 237, 238, 239, 244, 245, 246, 247, 248, 249, 255, 256, 257, 258, 259, 266, 267, 268, 269, 277, 278, 279, 288, 289, 299, 333, 334, 335, 336, 337, 338, 339, 344, 345, 346, 347, 348, 349, 355, 356, 357, 358, 359, 366, 367, 368, 369, 377, 378, 379, 388, 389, 399, 444, 445, 446, 447, 448, 449, 455, 456, 457, 458, 459, 466, 467, 468, 469, 477, 478, 479, 488, 489, 499, 555, 556, 557, 558, 559, 566, 567, 568, 569, 577, 578, 579, 588, 589, 599, 666, 667, 668, 669, 677, 678, 679, 688, 689, 699, 777, 778, 779, 788, 789, 799, 888, 889, 899, 999]
</pre></div></div>
</div>
<p>If one needs only to iterate through the list once, it is more memory
efficient to use a <em>generator expression</em> instead. The only thing that
changes syntactically is that the surrounding brackets are replace by
parentheses:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [188]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">G</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">100</span><span class="o">*</span><span class="n">a</span> <span class="o">+</span> <span class="mi">10</span><span class="o">*</span><span class="n">b</span> <span class="o">+</span> <span class="n">c</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
                       <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
                       <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
                       <span class="k">if</span> <span class="n">a</span> <span class="o">&lt;=</span> <span class="n">b</span> <span class="o">&lt;=</span> <span class="n">c</span> <span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">G</span><span class="p">))</span>   <span class="c1"># This iterates through all the elements from the generator</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">G</span><span class="p">))</span>   <span class="c1"># It doesn&#39;t start from the beginning, so all elements are already consumed</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
60885
0
</pre></div></div>
</div>
<div class="admonition warning">
Note above that one can only iterate through the generator once.</div>
<p>Similary a <em>dictionary comprehension</em> creates a dictionary:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [189]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">d</span><span class="o">=</span><span class="p">{</span> <span class="n">k</span> <span class="p">:</span> <span class="n">k</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{0: 0, 1: 1, 2: 4, 3: 9, 4: 16, 5: 25, 6: 36, 7: 49, 8: 64, 9: 81}
</pre></div></div>
</div>
<p>And a <em>set comprehension</em> creates a set:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [190]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span><span class="o">=</span><span class="p">{</span> <span class="n">i</span><span class="o">*</span><span class="n">j</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 14, 15, 16, 18, 20, 21, 24, 25, 27, 28, 30, 32, 35, 36, 40, 42, 45, 48, 49, 54, 56, 63, 64, 72, 81}
</pre></div></div>
</div>
<hr class="docutils" />
<div class="admonition note">
Exercise X (two dice comprehension)</div>
<p>Redo the earlier exercise which printed all the pairs of two dice
results that sum to 5. But this time use a list comprehension.</p>
<hr/></div>
<div class="section" id="Processing-sequences">
<h3>Processing sequences<a class="headerlink" href="#Processing-sequences" title="Permalink to this headline">¶</a></h3>
<p>In this section we will go through some useful tool, are maybe familiar
to you from some function programming language like <em>lisp</em> or <em>haskell</em>.
These functions rely on functions being first-class objects in Python,
that is, you can</p>
<ul class="simple">
<li>pass a function as a parameter to another function</li>
<li>return a function as a return value from some function</li>
<li>store a function in a data structure or a variable</li>
</ul>
<p>We will talk about <code class="docutils literal notranslate"><span class="pre">map</span></code>, <code class="docutils literal notranslate"><span class="pre">filter</span></code>, and <code class="docutils literal notranslate"><span class="pre">reduce</span></code> functions. We
will also cover how to create functions with no name using the <em>lambda</em>
expression.</p>
<div class="section" id="Map-and-lambda-functions">
<h4>Map and lambda functions<a class="headerlink" href="#Map-and-lambda-functions" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">map</span></code> function gets a list and a function as parameters, and it
returns a new list whose elements are elements of the original list
transformed by the parameter function. For this to work the parameter
must take exactly one parameter and return a value. An example will
clarify this concept:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [191]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">double</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span>
<span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">double</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;map object at 0x7fe8cc6c86a0&gt;
</pre></div></div>
</div>
<p>The map function returns a map object for efficiency reasons. However,
since we only want print the contents, we first convert it to a list and
then print it:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [192]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">double</span><span class="p">,</span><span class="n">L</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[24, 8, -2]
</pre></div></div>
</div>
<p>When one reads numerice data from a file or from the internet, the
number of in string. Before they can be used in computations, they must
first be converted to ints or floats. A simple example will showcase
this.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [193]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span><span class="o">=</span><span class="s2">&quot;12 43 64 6&quot;</span>
<span class="n">L</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>        <span class="c1"># The split method of the string class, breaks the string at whitespaces</span>
                   <span class="c1"># to a list of strings.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">L</span><span class="p">)))</span>  <span class="c1"># The int function converts a string to an integer</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[&#39;12&#39;, &#39;43&#39;, &#39;64&#39;, &#39;6&#39;]
125
</pre></div></div>
</div>
<p>Sometimes it feels unnecessary to write a function is you are only going
to use it in one <code class="docutils literal notranslate"><span class="pre">map</span></code> function call. For example the function</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [194]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">add_double_and_square</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
</div>
<p>It is not likely that you will need it elsewhere in your program. The
solution is to use an <em>expression</em> called <em>lambda</em> define a function
with no name. Because it is an expression we can put it, for instance,
in a argument list of a function call. The lambda expression has the
form <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">param1,param2,</span> <span class="pre">...</span> <span class="pre">:</span> <span class="pre">expression</span></code>, where after the lambda
keyword you list the parameters of the function, and after the colon is
the expression that uses the parameters to compute the return value of
function. Let’s replace the above <code class="docutils literal notranslate"><span class="pre">add_double_and_square</span></code> function
with a lambda function and apply it to a list using the <code class="docutils literal notranslate"><span class="pre">map</span></code>
function.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [195]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">L</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[8, 15, 35]
</pre></div></div>
</div>
<hr class="docutils" />
<div class="admonition note">
Exercise X (transform)</div>
<p>Write a function <code class="docutils literal notranslate"><span class="pre">transform</span></code> that gets two strings as parameters and
returns a list of integers. The function should split the strings into
words, and convert these words to integer. This should give two lists of
integers. Then the function should return a list whose elements are
multiplication of two integers in the respective positions in the lists.
For example <code class="docutils literal notranslate"><span class="pre">transform(&quot;1</span> <span class="pre">5</span> <span class="pre">3&quot;,</span> <span class="pre">&quot;2</span> <span class="pre">6</span> <span class="pre">-1&quot;)</span></code> should return the list of
integers <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">30,</span> <span class="pre">-3]</span></code>.</p>
<p>You <strong>have</strong> to use <code class="docutils literal notranslate"><span class="pre">split</span></code>, <code class="docutils literal notranslate"><span class="pre">map</span></code>, and <code class="docutils literal notranslate"><span class="pre">zip</span></code> functions/methods.
You may assume that the two input strings are in correct format.</p>
<hr/></div>
<div class="section" id="Filter-function">
<h4>Filter function<a class="headerlink" href="#Filter-function" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">filter</span></code> function takes a function and a list as parameters. But
unlike with the map construct, now the function must take exactly one
parameter and return a truth value (True or False). The <code class="docutils literal notranslate"><span class="pre">filter</span></code>
function then creates a new list with only those elements from the
original list for which the parameter function returns True. The
elements for which the parameter function returns False are filtered
out. An will demonstrate the <code class="docutils literal notranslate"><span class="pre">filter</span></code> function:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [196]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">is_odd</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns True if x is odd and False if x is even&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span>         <span class="c1"># The % operator returns the remainder of integer division</span>
<span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="n">is_odd</span><span class="p">,</span> <span class="n">L</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[1, 5, 9]
</pre></div></div>
</div>
<p>The even elements of the list were filtered out.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise X (positive list)</div>
<p>Write a function <code class="docutils literal notranslate"><span class="pre">positive_list</span></code> that gets a list of numbers as a
parameter, and returns a list with the negative numbers filtered out
using the <code class="docutils literal notranslate"><span class="pre">filter</span></code> function.</p>
<p>The function call <code class="docutils literal notranslate"><span class="pre">positive_list([2,-2,1,-7])</span></code> should return the list
<code class="docutils literal notranslate"><span class="pre">[2,1]</span></code>. Test your function in the <code class="docutils literal notranslate"><span class="pre">main</span></code> function.</p>
<hr/></div>
<div class="section" id="The-reduce-function">
<h4>The reduce function<a class="headerlink" href="#The-reduce-function" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">sum</span></code> function that returns the sum of a numeric list, can be
though to reduce a list to a single element. It does this reduction by
repeated applying the <code class="docutils literal notranslate"><span class="pre">+</span></code> operator until all the list elements are
consumed. For instance, the list [1,2,3,4] is reduced by the expression
<code class="docutils literal notranslate"><span class="pre">(((0+1)+2)+3)+4</span></code> of repeated applications of the <code class="docutils literal notranslate"><span class="pre">+</span></code> operator. We
could implement this with the following function:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [197]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">sumreduce</span><span class="p">(</span><span class="n">L</span><span class="p">):</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">+</span><span class="n">x</span>
    <span class="k">return</span> <span class="n">s</span>
</pre></div>
</div>
</div>
<p>Because this is a common pattern, the designers of Python included a
function called <code class="docutils literal notranslate"><span class="pre">reduce</span></code> to simplify the reduction of a sequence. You
give the operator you want to use as a parameter to reduce (addition in
the above example). And you also give a starting value of the
computation (starting value 0 was used above). We can now get rid of the
separate function sumreduce by using the reduce function:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [198]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="k">import</span> <span class="n">reduce</span>   <span class="c1"># import the reduce function from the functools module</span>
<span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[198]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>10
</pre></div>
</div>
</div>
<p>If we wanted to get a product of all numbers in a sequence, we would use</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [199]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[199]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>24
</pre></div>
</div>
</div>
<p>This corresponds to the sequence <code class="docutils literal notranslate"><span class="pre">(((1*1)*2)*3)*4</span></code> of application of
operator <code class="docutils literal notranslate"><span class="pre">*</span></code>.</p>
<div class="alert alert-warning"><p>Note that use of the starting value is necessary, because we want to be
able to reduce lists of lengths 0 and 1 as well. The default starting
value is zero.</p>
</div>
</div>
</div>
<div class="section" id="String-handling">
<h2>String handling<a class="headerlink" href="#String-handling" title="Permalink to this headline">¶</a></h2>
<p>We have already seen how to index, slice, concatenate, and repeat
strings. Let’s now look into what methods the <code class="docutils literal notranslate"><span class="pre">str</span></code> class offers. In
Python strings are immutable. This means that for instance the following
assignment is not legal:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [200]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
<span class="c1"># s[0] = &quot;a&quot;    # This is not legal in Python</span>
</pre></div>
</div>
</div>
<p>Because of the immutability of the strings, the string methods work by
returning a value; they don’t have any side-effects. In the rest of this
section we briefly describe several of these methods. The methods are
here divided into five groups.</p>
<div class="section" id="Classification-of-strings">
<h3>Classification of strings<a class="headerlink" href="#Classification-of-strings" title="Permalink to this headline">¶</a></h3>
<p>All the following methods will take no parameters and return a truth
value. An empty string will always result in <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">s.isalpha()</span></code> True if all characters are letters or digits</li>
<li><code class="docutils literal notranslate"><span class="pre">s.isalpha()</span></code> True if all characters are letters</li>
<li><code class="docutils literal notranslate"><span class="pre">s.isdigit()</span></code> True if all characters are digits</li>
<li><code class="docutils literal notranslate"><span class="pre">s.islower()</span></code> True if contains letters, and all are lowercase</li>
<li><code class="docutils literal notranslate"><span class="pre">s.isupper()</span></code> True if contains letters, and all are uppercase</li>
<li><code class="docutils literal notranslate"><span class="pre">s.isspace()</span></code> True if all characters are whitespace</li>
<li><code class="docutils literal notranslate"><span class="pre">s.istitle()</span></code> True if uppercase in the beginning of word, elsewhere
lowercase</li>
</ul>
</div>
<div class="section" id="String-transformations">
<h3>String transformations<a class="headerlink" href="#String-transformations" title="Permalink to this headline">¶</a></h3>
<p>The following methods do conversions between lower and uppercase
characters in the string. All these methods return a new string.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">s.lower()</span></code> Change all letters to lowercase</li>
<li><code class="docutils literal notranslate"><span class="pre">s.upper()</span></code> Change all letters to uppercase</li>
<li><code class="docutils literal notranslate"><span class="pre">s.capitalize()</span></code> Change all letters to capitalcase</li>
<li><code class="docutils literal notranslate"><span class="pre">s.title()</span></code> Change to titlecase</li>
<li><code class="docutils literal notranslate"><span class="pre">s.swapcase()</span></code> Change all uppercase letters to lowercase, and vice
versa</li>
</ul>
</div>
<div class="section" id="Searching-for-substrings">
<h3>Searching for substrings<a class="headerlink" href="#Searching-for-substrings" title="Permalink to this headline">¶</a></h3>
<p>All the following methods get the wanted substring as the parameter,
except the replace method, which also gets the replacing string as a
parameter</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">s.count(substr)</span></code> Counts the number of occurences of a substring</li>
<li><code class="docutils literal notranslate"><span class="pre">s.find(substr)</span></code> Finds index of the first occurence of a substring,
or -1</li>
<li><code class="docutils literal notranslate"><span class="pre">s.rfind(substr)</span></code> Finds index of the last occurence of a substring,
or -1</li>
<li><code class="docutils literal notranslate"><span class="pre">s.index(substr)</span></code> Like find, except ValueError is raised if not
found</li>
<li><code class="docutils literal notranslate"><span class="pre">s.rindex(substr)</span></code> Like rfind, except ValueError is raised if not
found</li>
<li><code class="docutils literal notranslate"><span class="pre">s.startswith(substr)</span></code> Returns True if string starts with a given
substring</li>
<li><code class="docutils literal notranslate"><span class="pre">s.endswith(substr)</span></code> Returns True if string ends with a given
substring</li>
<li><code class="docutils literal notranslate"><span class="pre">s.replace(substr,</span> <span class="pre">replacement)</span></code> Returns a string where occurences
of one string are replaced by another</li>
</ul>
<p>Keep also in mind that the expression <code class="docutils literal notranslate"><span class="pre">&quot;issi&quot;</span> <span class="pre">in</span> <span class="pre">&quot;mississippi&quot;</span></code>
returns a truth value of whether the first string occurs in the second
string.</p>
</div>
<div class="section" id="Trimming-and-adjusting">
<h3>Trimming and adjusting<a class="headerlink" href="#Trimming-and-adjusting" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">s.strip(x)</span></code> Removes leading and trailing whitespace by default, or
characters found in string x</li>
<li><code class="docutils literal notranslate"><span class="pre">s.lstrip(x)</span></code> Same as strip but only leading characters are removed</li>
<li><code class="docutils literal notranslate"><span class="pre">s.rstrip(x)</span></code> Same as strip but only trailing characters are
removed</li>
<li><code class="docutils literal notranslate"><span class="pre">s.ljust(n)</span></code> Left justifies string inside a field of length n</li>
<li><code class="docutils literal notranslate"><span class="pre">s.rjust(n)</span></code> Right justifies string inside a field of length n</li>
<li><code class="docutils literal notranslate"><span class="pre">s.center(n)</span></code> Centers string inside a field of length n</li>
</ul>
<p>An example of using the <code class="docutils literal notranslate"><span class="pre">center</span></code> method and string repetition:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [201]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">11</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
    <span class="n">s</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="o">*</span><span class="n">i</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;|</span><span class="si">%s</span><span class="s2">|&quot;</span> <span class="o">%</span> <span class="n">s</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">11</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
-----------
|    *    |
|   ***   |
|  *****  |
| ******* |
|*********|
|    *    |
|    *    |
-----------
</pre></div></div>
</div>
</div>
<div class="section" id="Joining-and-splitting">
<h3>Joining and splitting<a class="headerlink" href="#Joining-and-splitting" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">join(seq)</span></code> method joins the strings of the sequence <code class="docutils literal notranslate"><span class="pre">seq</span></code>. The
string itself is used as a delimitter. An example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [202]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="s2">&quot;--&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="s2">&quot;def&quot;</span><span class="p">,</span> <span class="s2">&quot;ghi&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[202]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>&#39;abc--def--ghi&#39;
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [203]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="s2">&quot; </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">x</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">)))</span>
<span class="n">s</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="n">x</span>   <span class="c1"># Don&#39;t ever do this, it creates a new string at every iteration</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>  <span class="c1"># This is the correct way of building a string out of smaller strings</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99
 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99
</pre></div></div>
</div>
<div class="admonition warning">
If you want to build a string out of smaller strings, then first put the
small strings into a list, and then use the <code class="docutils literal notranslate"><span class="pre">join</span></code> method to catenate
the pieces together. It is much more efficient this way. Use the <code class="docutils literal notranslate"><span class="pre">+</span></code>
catenation operator only if you have very few short strings that you
want to catenate.</div>
<p>The method <code class="docutils literal notranslate"><span class="pre">split(sep=None)</span></code> divides a string into pieces that are
separated by the string <code class="docutils literal notranslate"><span class="pre">sep</span></code>. The pieces are returned in a list. For
instance, the call ‘abc–def–ghi’.split(“–”) will result in</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [204]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="s1">&#39;abc--def--ghi&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;--&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[204]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[&#39;abc&#39;, &#39;def&#39;, &#39;ghi&#39;]
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="admonition note">
Exercise X (acronyms)</div>
<p>Write function <code class="docutils literal notranslate"><span class="pre">acronyms</span></code> which takes a string as a parameter and
returns a list of acronyms. A word is an acronym if it has length at
least two, and all its characters are in uppercase. Before acronym
detection, delete punctuation with the <code class="docutils literal notranslate"><span class="pre">strip</span></code> method.</p>
<p>Test this function in the <code class="docutils literal notranslate"><span class="pre">main</span></code> function with the following call:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">acronyms</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;For the purposes of the EU General Data Protection Regulation (GDPR), the controller of your personal information is International Business Machines Corporation (IBM Corp.), 1 New Orchard Road, Armonk, New York, United States, unless indicated otherwise. Where IBM Corp. or a subsidiary it controls (not established in the European Economic Area (EEA)) is required to appoint a legal representative in the EEA, the representative for all such cases is IBM United Kingdom Limited, PO Box 41, North Harbour, Portsmouth, Hampshire, United Kingdom PO6 3AU.&quot;&quot;&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>This should return MISSING!!!!!!!</p>
<hr/><hr class="docutils" />
<div class="admonition note">
Exercise X (sum equation)</div>
<p>Write a function <code class="docutils literal notranslate"><span class="pre">sum_equation</span></code> which takes a list of positive
integers as parameters and returns a string with an equation of the sum
of the elements.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">sum_equation([1,5,7])</span></code> returns <code class="docutils literal notranslate"><span class="pre">&quot;1</span> <span class="pre">+</span> <span class="pre">5</span> <span class="pre">+</span> <span class="pre">7</span> <span class="pre">=</span> <span class="pre">13&quot;</span></code> Observe,
the spaces should be exactly as shown above. For an empty list the
function should return the string “0 = 0”.</p>
<hr/></div>
</div>
<div class="section" id="Modules">
<h2>Modules<a class="headerlink" href="#Modules" title="Permalink to this headline">¶</a></h2>
<p>To ease management of large programs, software is divided into smaller
pieces. In Python these pieces are called <em>modules</em>. A module should be
a unit that is as independent from other modules as possible. Each file
in Python corresponds to a module. Modules can contain classes, objects,
functions, … For example, functions to handle regular expressions are
in module <code class="docutils literal notranslate"><span class="pre">re</span></code></p>
<p>The standard library of Python consists of hundreds of modules. Some of
the most common standard modules include</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">re</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">math</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">random</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">os</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">sys</span></code></li>
</ul>
<p>Any file with extension <code class="docutils literal notranslate"><span class="pre">.py</span></code> that contains Python source code is a
module. So, no special notation is needed to create a module.</p>
<div class="section" id="Using-modules">
<h3>Using modules<a class="headerlink" href="#Using-modules" title="Permalink to this headline">¶</a></h3>
<p>Let’s say that we need to use the cosine function. This function, and
many other mathematical functions are located in the <code class="docutils literal notranslate"><span class="pre">math</span></code> module. To
tell Python that we want to access the features offered by this module,
we can give the statement <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">math</span></code>. Now the module is loaded into
memory. We can now call the function like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">math</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="mf">1.0</span>
</pre></div>
</div>
<p>Note that we need to include the module name where the <code class="docutils literal notranslate"><span class="pre">cos</span></code> function
is found. This is because other modules may have a function (or other
attribute of a module) with the same name. This usage of different
namespace for each module prevents name clashes. For example,
<code class="docutils literal notranslate"><span class="pre">gzip.open</span></code>, <code class="docutils literal notranslate"><span class="pre">os.open</span></code> are not to be confused with the builtin
<code class="docutils literal notranslate"><span class="pre">open</span></code> function.</p>
</div>
<div class="section" id="Breaking-the-namespace">
<h3>Breaking the namespace<a class="headerlink" href="#Breaking-the-namespace" title="Permalink to this headline">¶</a></h3>
<p>If the cosine is needed a lot, then it might be tedious to always
specify the namespace, especially if the name of the namespace/module is
long. For these cases there is another way of importing modules. Bring a
name to the current scope with <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">math</span> <span class="pre">import</span> <span class="pre">cos</span></code> statement. Now
we can used it without the namespace specifier: <code class="docutils literal notranslate"><span class="pre">cos(1)</span></code>.</p>
<p>Several names can be imported to the current scope with from
<code class="docutils literal notranslate"><span class="pre">math</span> <span class="pre">import</span> <span class="pre">name1,</span> <span class="pre">name2,</span> <span class="pre">...</span></code> Or even all names of the module with
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">math</span> <span class="pre">import</span> <span class="pre">*</span></code> The last form is sensible only in few cases,
normally it just confuses things since the user may have no idea what
names will be imported.</p>
</div>
<div class="section" id="Module-lookup">
<h3>Module lookup<a class="headerlink" href="#Module-lookup" title="Permalink to this headline">¶</a></h3>
<p>When we try to import a module mod with the import statement, the lookup
proceeds in the following order:</p>
<ul class="simple">
<li>Check if it is a builtin module</li>
<li>Check if the file <code class="docutils literal notranslate"><span class="pre">mod.py</span></code> is found in any of the directories in
the list <code class="docutils literal notranslate"><span class="pre">sys.path</span></code>. The first item in this list is the current
directory</li>
<li>When Python is started, the <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> list is initialised with the
contents of the <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> environment variable</li>
</ul>
</div>
<div class="section" id="Module-hierarchy">
<h3>Module hierarchy<a class="headerlink" href="#Module-hierarchy" title="Permalink to this headline">¶</a></h3>
<p>The standard library contains hundreds of modules. Hence, it is hard to
comprehend what the library includes. The modules therefore need to be
organised somehow. In Python the modules can be organised into
hierarchies using packages. A package is a module that can contain other
packages and modules. For example, the <code class="docutils literal notranslate"><span class="pre">numpy</span></code> package contains
subpackages core, distutils, f2py, fft, lib, linalg, ma, numarray,
oldnumeric, random, and testing. And package <code class="docutils literal notranslate"><span class="pre">numpy.linalg</span></code> in turn
contains modules <code class="docutils literal notranslate"><span class="pre">linalg</span></code>, <code class="docutils literal notranslate"><span class="pre">lapack_lite</span></code> and <code class="docutils literal notranslate"><span class="pre">info</span></code>.</p>
</div>
<div class="section" id="Importing-from-packages">
<h3>Importing from packages<a class="headerlink" href="#Importing-from-packages" title="Permalink to this headline">¶</a></h3>
<p>The statement <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">numpy</span></code> imports the top-level package <code class="docutils literal notranslate"><span class="pre">numpy</span></code>
but not its subpackages:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">numpy.linalg</span></code> imports the subpackage, and</li>
<li><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">numpy.linalg.linalg</span></code> imports the module only</li>
</ul>
<p>If we want to skip the long namespace specification, we can use the form</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy.linalg</span> <span class="kn">import</span> <span class="n">linalg</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy.linalg</span> <span class="kn">import</span> <span class="n">linalg</span> <span class="k">as</span> <span class="n">lin</span>
</pre></div>
</div>
<p>if we want to use a different name for the module. The following command
imports the function <code class="docutils literal notranslate"><span class="pre">det</span></code> (computes the determinant of a matrix) from
the module linalg, which is contained in a subpackage linalg, which
belongs to package numpy:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy.linalg.linalg</span> <span class="kn">import</span> <span class="n">det</span>
</pre></div>
</div>
<p>PIIRRÄ KUVA YLLÄOLEVASTA.</p>
</div>
<div class="section" id="Correspondence-between-folder-and-module-hierarchies">
<h3>Correspondence between folder and module hierarchies<a class="headerlink" href="#Correspondence-between-folder-and-module-hierarchies" title="Permalink to this headline">¶</a></h3>
<p>The packages are represented by folders in the filesystem. The folder
should contain a file named <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> that makes up the package
body. This handles the initialisation of the package. The directory may
contain also further directories (subpackages) or Python files (normal
modules).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">/</span>
    <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="n">b</span><span class="o">.</span><span class="n">py</span>
    <span class="n">c</span><span class="o">/</span>
        <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
        <span class="n">d</span><span class="o">.</span><span class="n">py</span>
        <span class="n">e</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<div class="figure" id="id3">
<img alt="package.svg" src="_images/package.svg" /><p class="caption"><span class="caption-text">package.svg</span></p>
</div>
</div>
<div class="section" id="Contents-of-a-module">
<h3>Contents of a module<a class="headerlink" href="#Contents-of-a-module" title="Permalink to this headline">¶</a></h3>
<p>Suppose we have a module named <code class="docutils literal notranslate"><span class="pre">mod.py</span></code>. All the assignments, class
definitions with the <code class="docutils literal notranslate"><span class="pre">class</span></code> statement, and function definitions with
<code class="docutils literal notranslate"><span class="pre">def</span></code> statement will create new attributes to this module. Let’s
import this module from another Python file using the <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">mod</span></code>
statement. After the import we can access the attributes of the module
object using the normal dot notation: <code class="docutils literal notranslate"><span class="pre">mod.f()</span></code>, <code class="docutils literal notranslate"><span class="pre">mod.myclass()</span></code>,
<code class="docutils literal notranslate"><span class="pre">mod.a</span></code>, etc. Note that Python doesn’t really have global variables
that are visible to all modules. All variables belong to some module
namespace.</p>
<p>Just like other objects, the module object contains its attributes in
the dictionary <code class="docutils literal notranslate"><span class="pre">modulename.__dict__</span></code> Usually a module contains at
least the attributes name and file . Other common attributes are
<code class="docutils literal notranslate"><span class="pre">__version__</span></code>, <code class="docutils literal notranslate"><span class="pre">__author__</span></code> and <code class="docutils literal notranslate"><span class="pre">__doc__</span></code> , which contains the
docstring of the module. If the first statement of a file is a string,
this is taken as the docstring of that module. The attribute
<code class="docutils literal notranslate"><span class="pre">__file__</span></code> is always the filename of the module.</p>
<p>The module attribute <code class="docutils literal notranslate"><span class="pre">__name__</span></code> has value <code class="docutils literal notranslate"><span class="pre">“__main__”</span></code> if we in are
the main program, otherwise some other module has imported us and name
equals <code class="docutils literal notranslate"><span class="pre">__file__</span></code>.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise x (usemodule)</div>
<p>Create your own module as file <code class="docutils literal notranslate"><span class="pre">triangle.py</span></code> in the <code class="docutils literal notranslate"><span class="pre">src</span></code> folder.
The module should contain two functions:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">hypothenuse</span></code> which returns the length of the hypothenuse when
given the lengths of two other sides of a right-angled triangle</li>
<li><code class="docutils literal notranslate"><span class="pre">area</span></code> which returns the area of the right-angled triangle, when
two sides, perpendicular to each other, are given as parameters.</li>
</ul>
<p>Make sure both the functions and the module have descriptive docstrings.
Add also the <code class="docutils literal notranslate"><span class="pre">__version__</span></code> and <code class="docutils literal notranslate"><span class="pre">__author__</span></code> attributes to the
module. Call both your functions from the main function (which is in
file <code class="docutils literal notranslate"><span class="pre">usemodule.py</span></code>).</p>
</div>
</div>
<div class="section" id="Regular-expressions">
<h2>Regular expressions<a class="headerlink" href="#Regular-expressions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="Examples">
<h3>Examples<a class="headerlink" href="#Examples" title="Permalink to this headline">¶</a></h3>
<p>We have already seen that we can ask from a string str whether it begins
with some substring as follows: <code class="docutils literal notranslate"><span class="pre">str.startswith(’Apple’)</span></code>. If we would
like to know whether it starts with <code class="docutils literal notranslate"><span class="pre">”Apple”</span></code> or <code class="docutils literal notranslate"><span class="pre">”apple”</span></code>, we would
have to call <code class="docutils literal notranslate"><span class="pre">startswith</span></code> method twice. Regular expressions offer a
simpler solution: <code class="docutils literal notranslate"><span class="pre">re.match(r’[Aa]pple’,</span> <span class="pre">str)</span></code>. The bracket notation
is one example of the special syntax of <em>regular expressions</em>. In this
case it says that any of the characters inside brackets will do: either
<code class="docutils literal notranslate"><span class="pre">’A’</span></code> or <code class="docutils literal notranslate"><span class="pre">’a’</span></code>. The other letters in <code class="docutils literal notranslate"><span class="pre">”pple”</span></code> will act normally.
The string <code class="docutils literal notranslate"><span class="pre">r’[Aa]pple’</span></code> is called a pattern.</p>
<p>A more complicated example asks whether the string <code class="docutils literal notranslate"><span class="pre">str</span></code> starts with
either <code class="docutils literal notranslate"><span class="pre">apple</span></code> or <code class="docutils literal notranslate"><span class="pre">banana</span></code> (no matter if the first letter is capital
or not): <code class="docutils literal notranslate"><span class="pre">re.match(r’[Aa]pple|[Bb]anana’,</span> <span class="pre">str)</span></code>. In this example we
saw a new special character <code class="docutils literal notranslate"><span class="pre">|</span></code> that denotes an alternative. On either
side of the bar character we have a subpattern.</p>
<p>A legal variable name in Python starts with a letter or an underline
character and the following characters can also be digits. So legal
names are, for instance: <code class="docutils literal notranslate"><span class="pre">_hidden</span></code>, <code class="docutils literal notranslate"><span class="pre">L_value</span></code>, <code class="docutils literal notranslate"><span class="pre">A123_</span></code>. But the
name <code class="docutils literal notranslate"><span class="pre">2abc</span></code> is not a valid variable name. Let’s see what would be the
regular expression pattern to recognise valid variable names:
<code class="docutils literal notranslate"><span class="pre">r’[A-Za-z_][A-Za-z_0-9]*\Z’</span></code>. Here we have used a shorthand for
character ranges: <code class="docutils literal notranslate"><span class="pre">A-Z</span></code>. This means all the characters from <code class="docutils literal notranslate"><span class="pre">A</span></code> to
<code class="docutils literal notranslate"><span class="pre">Z</span></code>.</p>
<p>The first character of the variable name is defined in the first
brackets. The subsequent characters are defined in the second brackets.
The special character <code class="docutils literal notranslate"><span class="pre">*</span></code> means that we allow any number (0,1,2, …
) of the previous subpattern. For example the pattern <code class="docutils literal notranslate"><span class="pre">r’ba*’</span></code> allows
strings <code class="docutils literal notranslate"><span class="pre">’b’</span></code>, <code class="docutils literal notranslate"><span class="pre">’ba’</span></code>, <code class="docutils literal notranslate"><span class="pre">’baa’</span></code>, <code class="docutils literal notranslate"><span class="pre">’baaa’</span></code>, and so on. The special
syntax <code class="docutils literal notranslate"><span class="pre">\Z</span></code> denotes the end of the string. Without it we would also
accept <code class="docutils literal notranslate"><span class="pre">abc$</span></code> as a valid name since match normally checks only that a
string starts with a pattern.</p>
<p>The special notations, like <code class="docutils literal notranslate"><span class="pre">\Z</span></code>, also cause problems with string
handling. Remember that normally in string literals we have some special
notation: <code class="docutils literal notranslate"><span class="pre">\n</span></code> stands for newline, <code class="docutils literal notranslate"><span class="pre">\t</span></code> stands for tab, and so on.
So, both string literals and regular expressions use similar looking
notations, which can create serious confusion. This can be solved by
using the so-called raw strings. We denote a raw string by having an r
letter before the first quotation mark, for example <code class="docutils literal notranslate"><span class="pre">r’ab*\Z’</span></code>. When
using raw strings, the newline (<code class="docutils literal notranslate"><span class="pre">\n</span></code>), tab (<code class="docutils literal notranslate"><span class="pre">\t</span></code>), and other special
string literal notations aren’t interpreted. One should always use raw
strings when defining regular expression patterns.</p>
</div>
<div class="section" id="Patterns">
<h3>Patterns<a class="headerlink" href="#Patterns" title="Permalink to this headline">¶</a></h3>
<p>A pattern represents a set of strings. This set can even be potentially
infinite. They can be used to describe a set of strings that have some
commonality; some regular structure. Regular expressions are a classical
computer science topic. They are very common in programming tasks.
Scripting languages, like Python, are very fluent in regular
expressions. Very complex text processing can be achieved using regular
expressions.</p>
<p>Normal characters (letters, numbers) just represent themselves, unless
preceded by a backslash, which may trigger some special meaning
Punctuation characters have special meaning, unless preceded by
backslash (), which deprives their special meaning. Use \ to represent
a backslash character without any special meaning. In the following
slides we will go through some of the more common RE notations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>. Matches any character
[...] Matches any character contained within the brackets
[^...] Matches any character not appearing after the hat (ˆ)
ˆ Matches the start of the string
$ Matches the end of the string
* Matches zero or more previous RE
+ Matches one or more previous RE
{m,n} Matches m to n occurences of previous RE
? Matches zero or one occurences of previous RE
</pre></div>
</div>
<p>We have already seen that a <code class="docutils literal notranslate"><span class="pre">|</span></code> character denotes alternatives. For
example, the pattern <code class="docutils literal notranslate"><span class="pre">r’Get</span> <span class="pre">(on|off|ready)’</span></code> matches the following
strings: <code class="docutils literal notranslate"><span class="pre">”Get</span> <span class="pre">on”</span></code>, <code class="docutils literal notranslate"><span class="pre">”Get</span> <span class="pre">off”</span></code>, <code class="docutils literal notranslate"><span class="pre">”Get</span> <span class="pre">ready”</span></code>. We can use
parentheses to create groupings inside a pattern: <code class="docutils literal notranslate"><span class="pre">r’(ab)+’</span></code> will
match the strings <code class="docutils literal notranslate"><span class="pre">”ab”</span></code>, <code class="docutils literal notranslate"><span class="pre">”abab”</span></code>, <code class="docutils literal notranslate"><span class="pre">”ababab”</span></code>, and so on. These
groups are also given a reference number starting from 1. We can refer
to groups using backreferences: <code class="docutils literal notranslate"><span class="pre">\number</span></code>. For example, we can find
separated patterns that get repeated: <code class="docutils literal notranslate"><span class="pre">r’([a-z]{3,})</span> <span class="pre">\1</span> <span class="pre">\1’</span></code>. This
will recognise, for example, the following strings: <code class="docutils literal notranslate"><span class="pre">&quot;aca</span> <span class="pre">aca</span> <span class="pre">aca&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;turn</span> <span class="pre">turn</span> <span class="pre">turn&quot;</span></code>. But not the strings <code class="docutils literal notranslate"><span class="pre">&quot;aca</span> <span class="pre">aba</span> <span class="pre">aca&quot;</span></code> or
<code class="docutils literal notranslate"><span class="pre">&quot;ac</span> <span class="pre">ac</span> <span class="pre">ac&quot;</span></code>.</p>
<p>In the following, note that a hat (ˆ) as the first character inside
brackets will create a complement set of characters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>`\d` same as `[0-9]`, matches a digit
`\D` same as `[ˆ0-9]`, matches anything but a digit
`\s` matches a whitespace character (newline, tab, ... )
`\S` matches a nonwhitespace character
`\w` same as `[a-zA-Z0-9_]`, matches one alphanumeric character
`\W` matches one non-alphanumeric character
</pre></div>
</div>
<p>Using the above notation we can now shorten our previous variable name
example to <code class="docutils literal notranslate"><span class="pre">r’[a-zA-Z_]\w*\Z’</span></code></p>
<p>The patterns <code class="docutils literal notranslate"><span class="pre">\A</span></code>, <code class="docutils literal notranslate"><span class="pre">\b</span></code>, <code class="docutils literal notranslate"><span class="pre">\B</span></code>, and <code class="docutils literal notranslate"><span class="pre">\Z</span></code> will all match an empty
string, but in specific places. The patterns <code class="docutils literal notranslate"><span class="pre">\A</span></code> and <code class="docutils literal notranslate"><span class="pre">\Z</span></code> will
recognise the beginning and end of the string, respectively. Note that
the patterns <code class="docutils literal notranslate"><span class="pre">ˆ</span></code> and <code class="docutils literal notranslate"><span class="pre">$</span></code> can in some cases match also after a
newline and before a newline, correspondingly. So, <code class="docutils literal notranslate"><span class="pre">\A</span></code> is distinct
from <code class="docutils literal notranslate"><span class="pre">ˆ</span></code>, and <code class="docutils literal notranslate"><span class="pre">\Z</span></code> is distinct from <code class="docutils literal notranslate"><span class="pre">$</span></code>. The pattern <code class="docutils literal notranslate"><span class="pre">\b</span></code>
matches at the start or end of a word. The pattern <code class="docutils literal notranslate"><span class="pre">\B</span></code> does the
reverse.</p>
</div>
<div class="section" id="Match-and-search-functions">
<h3>Match and search functions<a class="headerlink" href="#Match-and-search-functions" title="Permalink to this headline">¶</a></h3>
<p>We have so far only used the re.match function which tries to find a
match at the beginning of a string The function re.search allows to
match any substring of a string. Example: <code class="docutils literal notranslate"><span class="pre">re.search(r'\bback\b',</span> <span class="pre">s)</span></code>
will match strings <code class="docutils literal notranslate"><span class="pre">&quot;back&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;a</span> <span class="pre">back,</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">body</span> <span class="pre">part&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;get</span> <span class="pre">back&quot;</span></code>. But it will not match the strings <code class="docutils literal notranslate"><span class="pre">&quot;backspace&quot;</span></code> or
<code class="docutils literal notranslate"><span class="pre">&quot;comeback&quot;</span></code>.</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">re.search</span></code> finds only the first occurence. We can use
the <code class="docutils literal notranslate"><span class="pre">re.findall</span></code> function to find all occurences. Let’s say we want to
find all present participle words in a string <code class="docutils literal notranslate"><span class="pre">s</span></code>. The present
participle words have ending <code class="docutils literal notranslate"><span class="pre">'ing'</span></code>. The function call would look
like this: <code class="docutils literal notranslate"><span class="pre">re.findall(r'\w+ing\b',</span> <span class="pre">s)</span></code>. Let’s try running this:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [205]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Doing things, going home, staying awake, sleeping later&quot;</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\w+ing\b&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[205]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[&#39;Doing&#39;, &#39;going&#39;, &#39;staying&#39;, &#39;sleeping&#39;]
</pre></div>
</div>
</div>
<p>Let’s say we want to pick up all the integers from a string. We can try
that with the following function call: <code class="docutils literal notranslate"><span class="pre">re.findall(r'[+-]?\d+',</span> <span class="pre">s)</span></code>.
An example run:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [206]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[+-]?\d+&#39;</span><span class="p">,</span> <span class="s2">&quot;23 + -24 = -1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[206]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[&#39;23&#39;, &#39;-24&#39;, &#39;-1&#39;]
</pre></div>
</div>
</div>
<p>Suppose we are given a string of if/then sentences, and we would like to
extract the conditions from these sentences. Let’s try the following
function call: <code class="docutils literal notranslate"><span class="pre">re.findall(r'[Ii]f</span> <span class="pre">(.*),</span> <span class="pre">then',</span> <span class="pre">s)</span></code>. An example run:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [207]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;If I’m not in a hurry, then I should stay. &quot;</span> <span class="o">+</span>
    <span class="s2">&quot;On the other hand, if I leave, then I can sleep.&quot;</span><span class="p">)</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[Ii]f (.*), then&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[207]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[&#39;I’m not in a hurry, then I should stay. On the other hand, if I leave&#39;]
</pre></div>
</div>
</div>
<p>But I wanted a result: <code class="docutils literal notranslate"><span class="pre">[&quot;I'm</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">a</span> <span class="pre">hurry&quot;,</span> <span class="pre">'I</span> <span class="pre">leave']</span></code>. That is,
the condition from both sentences. How can this be fixed?</p>
<p>The problem is that the pattern <code class="docutils literal notranslate"><span class="pre">.*</span></code> tries to match as many characters
as possible. This is called <em>greedy matching</em>. One way of solving this
problem is to notice that the two sentences are separated by a full-stop
(.). So, instead of matching all the characters, we need to match
everything but the dot character. This can be achieved by using the
complement character class: <code class="docutils literal notranslate"><span class="pre">[^.]</span></code>. The hat character (<code class="docutils literal notranslate"><span class="pre">ˆ</span></code>) in the
beginning of a character class means the complement character class</p>
<p>After the modification the function call looks like this:
<code class="docutils literal notranslate"><span class="pre">re.findall(r'[Ii]f</span> <span class="pre">([^.]*),</span> <span class="pre">then',</span> <span class="pre">s)</span></code>. Another way of solving this
problem is to use a non-greedy matching. The repetition specifiers
<code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">?</span></code>, and <code class="docutils literal notranslate"><span class="pre">{m,n}</span></code> have corresponding non-greedy
versions: <code class="docutils literal notranslate"><span class="pre">+?</span></code>, <code class="docutils literal notranslate"><span class="pre">*?</span></code>, <code class="docutils literal notranslate"><span class="pre">??</span></code>, and <code class="docutils literal notranslate"><span class="pre">{m,n}?</span></code>. These expressions use
as few characters as possible to make the whole pattern match some
substring. By using non-greedy version, the function call looks like
this: <code class="docutils literal notranslate"><span class="pre">re.findall(r’[Ii]f</span> <span class="pre">(.*?),</span> <span class="pre">then’,</span> <span class="pre">s)</span></code>.</p>
</div>
<div class="section" id="Functions-in-the-re-module">
<h3>Functions in the <code class="docutils literal notranslate"><span class="pre">re</span></code> module<a class="headerlink" href="#Functions-in-the-re-module" title="Permalink to this headline">¶</a></h3>
<p>Below is a list of the most common functions in the <code class="docutils literal notranslate"><span class="pre">re</span></code> module</p>
<ul class="simple">
<li>re.match(pattern, str)</li>
<li>re.search(pattern, str)</li>
<li>re.findall(pattern, str)</li>
<li>re.finditer(pattern, str)</li>
<li>re.sub(pattern, replacement, str, count=0)</li>
</ul>
<p>Functions match and search return a match object. A match object
describes the found occurence. The function findall returns a list of
all the occurences of the pattern. The elements in the list are strings.
The function finditer works like findall function except that instead of
returning a list, it returns an iterator whose items are match objects.
The function sub replaces all the occurences of the pattern in str with
the string replacement and returns the new string.</p>
<p>An example: The following program will replace all ”she” words with ”he”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;She goes where she wants to, she&#39;s a sheriff.&quot;</span>
<span class="n">newstr</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b[Ss]he\b&#39;</span><span class="p">,</span> <span class="s1">&#39;he&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">newstr</span>
</pre></div>
</div>
<p>This will print <code class="docutils literal notranslate"><span class="pre">he</span> <span class="pre">goes</span> <span class="pre">where</span> <span class="pre">he</span> <span class="pre">wants</span> <span class="pre">to,</span> <span class="pre">he's</span> <span class="pre">a</span> <span class="pre">sheriff.</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">sub</span></code> function can also use backreferences to refer to the matched
string. The backreferences</p>
<div class="math notranslate nohighlight">
\1</div><p>,</p>
<div class="math notranslate nohighlight">
\2</div><p>, and so on, refer to the groups of the pattern, in order. An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
<span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;He is the president of Russia.</span>
<span class="s2">He’s a powerful man.&quot;&quot;&quot;</span>
<span class="n">newstr</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\b[Hh]e\b)&#39;</span><span class="p">,</span> <span class="sa">r</span><span class="s1">&#39;\1 (Putin)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">newstr</span>
</pre></div>
</div>
<p>This will print</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>He (Putin) is the president of Russia.
He’s a powerful man.
</pre></div>
</div>
</div>
<div class="section" id="Match-object">
<h3>Match object<a class="headerlink" href="#Match-object" title="Permalink to this headline">¶</a></h3>
<p>Functions <code class="docutils literal notranslate"><span class="pre">match</span></code>, <code class="docutils literal notranslate"><span class="pre">search</span></code>, and <code class="docutils literal notranslate"><span class="pre">finditer</span></code> use <code class="docutils literal notranslate"><span class="pre">match</span></code> objects
to describe the found occurence. The method <code class="docutils literal notranslate"><span class="pre">groups()</span></code> of the match
object returns the tuple of all the substrings matched by the groups of
the pattern. Each pair of parentheses in the pattern creates a new
group. These groups are are referred to by indices 1, 2, … The group 0
is a special one: it refers to the match created by the whole pattern.</p>
<p>Let’s look at the match object returned by the call</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mo</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\d+ (\d+) \d+ (\d+)&#39;</span><span class="p">,</span>
<span class="s1">&#39;first 123 45 67 890 last&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The call <code class="docutils literal notranslate"><span class="pre">mo.groups()</span></code> returns a tuple <code class="docutils literal notranslate"><span class="pre">(’45’,</span> <span class="pre">’890’)</span></code>. We can
access just some individual groups by using the method
<code class="docutils literal notranslate"><span class="pre">group(gid,</span> <span class="pre">...)</span></code>. For example, the call <code class="docutils literal notranslate"><span class="pre">mo.group(1)</span></code> will return
<code class="docutils literal notranslate"><span class="pre">’45’</span></code>. The zeroth group will represent the whole match:
<code class="docutils literal notranslate"><span class="pre">’123</span> <span class="pre">45</span> <span class="pre">67</span> <span class="pre">890’</span></code></p>
<p>In addition to accessing the strings matched by the pattern and its
groups, the corresponding indices of the original string can be
accessed:</p>
<ul class="simple">
<li>The <code class="docutils literal notranslate"><span class="pre">start(gid=0)</span></code> and <code class="docutils literal notranslate"><span class="pre">end(gid=0)</span></code> methods return the start and
end indices of the matched group gid, correspondingly</li>
<li>The method <code class="docutils literal notranslate"><span class="pre">span(gid)</span></code> just returns the pair of these start and end
indices</li>
</ul>
<p>The match object mo can also be used like a boolean value:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mo</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="k">if</span> <span class="n">mo</span><span class="p">:</span>
    <span class="c1"># do something</span>
</pre></div>
</div>
<p>will do something if a match was found. Alternatively, the match object
can be converted to a boolean value by the call <code class="docutils literal notranslate"><span class="pre">found</span> <span class="pre">=</span> <span class="pre">bool(mo)</span></code>.</p>
</div>
<div class="section" id="Miscellaneous-stuff">
<h3>Miscellaneous stuff<a class="headerlink" href="#Miscellaneous-stuff" title="Permalink to this headline">¶</a></h3>
<p>If the same pattern is used in many function calls, it may be wise to
precompile the pattern, mainly for efficiency reasons. This can be done
using the ‘compile(pattern, flags=0)’ function in the re module. The
function returns a so-called RE object. The RE object has method
versions of the functions found in module ‘re’. The only difference is
that the first parameter is not the pattern since the precompiled
pattern is stored in the RE object.</p>
<p>The details of matching operation can be specified using optional flags.
These flags can be given either inside the pattern or as a parameter to
the compile function. Some of the more common flags are given in the
following table</p>
<p>| x | Flag | |—–|————–| |<code class="docutils literal notranslate"><span class="pre">(?i)</span></code> |
re.IGNORECASE| |<code class="docutils literal notranslate"><span class="pre">(?m)</span></code> | re.MULTILINE| |<code class="docutils literal notranslate"><span class="pre">(?s)</span></code> |
re.DOTALL| ————————-</p>
<p>The elements on the left can appear anywhere in the pattern but
preferably in the beginning. On the right there are attributes of the re
module that can be given to the compile function as the second parameter</p>
<p>The <code class="docutils literal notranslate"><span class="pre">IGNORECASE</span></code> flag makes lower- and uppercase characters appear as
equal. The <code class="docutils literal notranslate"><span class="pre">MULTILINE</span></code> flag makes the special characters <code class="docutils literal notranslate"><span class="pre">ˆ</span></code> and
<code class="docutils literal notranslate"><span class="pre">$</span></code> match the beginning and end of each line in addition to the
beginning and end of the whole string. These flags make <code class="docutils literal notranslate"><span class="pre">\A</span></code> differ
from <code class="docutils literal notranslate"><span class="pre">ˆ</span></code>, and <code class="docutils literal notranslate"><span class="pre">\Z</span></code> differ from <code class="docutils literal notranslate"><span class="pre">$</span></code>. The <code class="docutils literal notranslate"><span class="pre">DOTALL</span></code> flag makes the
character class <code class="docutils literal notranslate"><span class="pre">.</span></code> (dot) also accept the newline character, in
addition to all the other letters.</p>
<p>When giving multiple flags to the compile function, the flags can be
separated with the <code class="docutils literal notranslate"><span class="pre">|</span></code> sign. For example,
<code class="docutils literal notranslate"><span class="pre">re.compile(pattern,</span> <span class="pre">re.MULTILINE</span> <span class="pre">|</span> <span class="pre">re.DOTALL)</span></code>. This is equal to
<code class="docutils literal notranslate"><span class="pre">re.compile('(?m)(?s)'</span> <span class="pre">+</span> <span class="pre">pattern)</span></code>.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise X (integers in brackets)</div>
<p>Write function <code class="docutils literal notranslate"><span class="pre">integers_in_brackets</span></code> that finds from a given string
all integers that are enclosed in brackets.</p>
<p>Example run:
<code class="docutils literal notranslate"><span class="pre">integers_in_brackets(&quot;</span>&#160; <span class="pre">afd</span> <span class="pre">[asd]</span> <span class="pre">[12</span> <span class="pre">]</span> <span class="pre">[a34]</span>&#160; <span class="pre">[</span> <span class="pre">-43</span> <span class="pre">]tt</span> <span class="pre">[+12]xxx&quot;)</span></code>
returns <code class="docutils literal notranslate"><span class="pre">[12,</span> <span class="pre">-43,</span> <span class="pre">12]</span></code>. So there can be whitespace between the number
and the brackets, but no other character besides those that make up the
integer.</p>
<hr/></div>
</div>
<div class="section" id="Basic-file-processing">
<h2>Basic file processing<a class="headerlink" href="#Basic-file-processing" title="Permalink to this headline">¶</a></h2>
<p>A file can be opened with the <code class="docutils literal notranslate"><span class="pre">open</span></code> function. The call
<code class="docutils literal notranslate"><span class="pre">open(filename,</span> <span class="pre">mode=&quot;r&quot;)</span></code> will return a <em>file object</em>, whose type is
<code class="docutils literal notranslate"><span class="pre">file</span></code>. This file object can be used to refer to a file on disk. For
example, when we want to read from or write to a file, we can used the
methods <code class="docutils literal notranslate"><span class="pre">read</span></code> and <code class="docutils literal notranslate"><span class="pre">write</span></code> of the file object. After the file object
is no longer needed, a call to the <code class="docutils literal notranslate"><span class="pre">close</span></code> method should be made.</p>
<p>We can control what kind of operations we can perform on a file with the
<em>mode</em> parameter of the <code class="docutils literal notranslate"><span class="pre">open</span></code> function. Different options include
opening a file for reading or writing, whether the file should exists
already or be created with the call to open, etc. Here’s a list of all
the opening modes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Mode</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">r</span></code></td>
<td>read-only mode, file must exist</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">w</span></code></td>
<td>write-only mode, creates, or overwrites an existing file</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">a</span></code></td>
<td>write-only mode, write always appends to the end</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">r+</span></code></td>
<td>read/write mode, file must already exist</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">w+</span></code></td>
<td>read/write mode, creates, or overwrites an existing file</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">a+</span></code></td>
<td>read/write mode, write will append to end</td>
</tr>
</tbody>
</table>
<p>In the end of the mode string either the letter <code class="docutils literal notranslate"><span class="pre">t</span></code> or <code class="docutils literal notranslate"><span class="pre">b</span></code> can be
appended. These stand for text mode and binary mode. If this letter is
not given, the file type is text mode by default.</p>
<p>For binary mode the contents of the file are not interpreted in any way,
and the read and write methods handle bytes. (A byte consists of 8 bits
and can be used to represent a number in the range 0 to 255.)</p>
<p>In the text mode two interpretations happen</p>
<ul class="simple">
<li>On Windows operating system the end of line in files is encoded by
two characters. When the file is read these two charactes are
converted to <code class="docutils literal notranslate"><span class="pre">'\n'</span></code> character. During writes to a file this
conversion happens in the opposite direction.</li>
<li>One character is encoded in the file as one or more bytes. This
conversion happens automatically during read and write operations.
One common encoding between bytes and characters is utf-8. In this
encoding, the Finnish character <code class="docutils literal notranslate"><span class="pre">'ä'</span></code>, for example, is encoded as
the following sequence of bytes:</li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [208]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="s2">&quot;ä&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[208]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>b&#39;\xc3\xa4&#39;
</pre></div>
</div>
</div>
<p>Above the two bytes were expressed as hexadecimals. In decimal notation
they would be 195 and 164. (Both in the range from 0 to 255.)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [209]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="nb">list</span><span class="p">(</span><span class="s2">&quot;ä&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>              <span class="c1"># Show as a list of integers</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[209]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[195, 164]
</pre></div>
</div>
</div>
<p>What is the utf-8 encoding of the letter <code class="docutils literal notranslate"><span class="pre">'a'</span></code>?</p>
<p>During this course we will only consider files containing text, so the
default text mode is fine for us.</p>
<div class="section" id="Some-common-file-object-methods">
<h3>Some common file object methods<a class="headerlink" href="#Some-common-file-object-methods" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">read(size)</span></code> will read size characters/bytes as a string</li>
<li><code class="docutils literal notranslate"><span class="pre">write(string)</span></code> will write string/bytes to a file</li>
<li><code class="docutils literal notranslate"><span class="pre">readline()</span></code> will read a string until and including the next
newline character is met</li>
<li><code class="docutils literal notranslate"><span class="pre">readlines()</span></code> will return a list of all lines of a file</li>
<li><code class="docutils literal notranslate"><span class="pre">writelines()</span></code> will write a list of lines to a file</li>
<li><code class="docutils literal notranslate"><span class="pre">flush()</span></code> will try to make sure that the changes made to a file are
written to disk immediately</li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [210]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;basics.ipynb&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="c1"># Let&#39;s open this notebook file,</span>
                              <span class="c1"># which is essentially a text file.</span>
                              <span class="c1"># So you can open it in a texteditor as well.</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>            <span class="c1"># And read the first five lines</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Line </span><span class="si">%i</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">line</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Line 0: {
Line 1:  &#34;cells&#34;: [
Line 2:   {
Line 3:    &#34;cell_type&#34;: &#34;markdown&#34;,
Line 4:    &#34;metadata&#34;: {},
</pre></div></div>
</div>
<p>It is easy to forget to close the file. One can use a <em>context manager</em>
to solve this problem. A context manager is created with the <code class="docutils literal notranslate"><span class="pre">with</span></code>
statement. After the indented block of the with statements exits, the
file will be automatically closed.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [211]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;basics.ipynb&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>          <span class="c1"># the file will be automatically closed,</span>
                                              <span class="c1"># when the with block exits</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Line </span><span class="si">%i</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">line</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Line 0: {
Line 1:  &#34;cells&#34;: [
Line 2:   {
Line 3:    &#34;cell_type&#34;: &#34;markdown&#34;,
Line 4:    &#34;metadata&#34;: {},
</pre></div></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">file</span></code> object is iterable. This means that we can iterate through
the lines in the file using a for loop, like in the below example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [212]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">max_len</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;basics.ipynb&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>    <span class="c1"># iterates through all the lines in the file</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">max_len</span><span class="p">:</span>
            <span class="n">max_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The longest line in this file has length </span><span class="si">%i</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">max_len</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The longest line in this file has length 1002
</pre></div></div>
</div>
</div>
<div class="section" id="Standard-file-objects">
<h3>Standard file objects<a class="headerlink" href="#Standard-file-objects" title="Permalink to this headline">¶</a></h3>
<p>Python has automatically three file objects open:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">sys.stdin</span></code> for <em>standard input</em></li>
<li><code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> for <em>standard output</em></li>
<li><code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code> for <em>standard error</em> To read a line from a user
(keyboard), you can call <code class="docutils literal notranslate"><span class="pre">sys.stdin.readline()</span></code>. To write a line to
a user (screen), call <code class="docutils literal notranslate"><span class="pre">sys.stdout.write(line)</span></code>. The standard error
is meant for error messages only, even though its output often goes
to the same destination as standard output.</li>
</ul>
<p>The print function uses the file <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code> and input function uses
the file <code class="docutils literal notranslate"><span class="pre">sys.stdin</span></code>. An example of usage:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [213]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">i</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Got a positive integer.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Got a negative integer.</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Got a positive integer.
</pre></div></div>
</div>
<p>These standard file objects are meant to be a basic input/output
mechanism in textual form. The destinations of the file objects can be
changed to point somewhere else than the usual keyboard and screen. Very
often these are redirected to some files. For example, it is usual to
point the stderr to a file where all error messages are logged.</p>
</div>
</div>
<div class="section" id="sys-module">
<h2>sys module<a class="headerlink" href="#sys-module" title="Permalink to this headline">¶</a></h2>
<p>We saw above that the <code class="docutils literal notranslate"><span class="pre">sys</span></code> module contains the three file objects
<code class="docutils literal notranslate"><span class="pre">sys.stdin</span></code>, <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code>, and <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code>. It has also few other
useful attributes. The attribute <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> is the list of folders
that Python uses to look for imported modules. The list <code class="docutils literal notranslate"><span class="pre">sys.argv</span></code>
contains the so called <em>command line parameters</em>. For example in Linux
if you are using the terminal, then you can run your program with the
command <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">programname.py</span> <span class="pre">param1</span> <span class="pre">param2</span> <span class="pre">...</span></code>. After Python has
started your program, the command line parameters are visible as
follows. The name of the program is in <code class="docutils literal notranslate"><span class="pre">sys.argv[0]</span></code>. The rest of the
command line parameters are after the program name in this list:
<code class="docutils literal notranslate"><span class="pre">sys.argv[1]==&quot;param1&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">sys.argv[2]==&quot;param2&quot;</span></code>, and so on. The
command line parameters can be useful in adjusting the behaviour of your
program. A few examples of these will be in the following exercises.
(The terminal window is a textual interface to your computer instead of
the usual graphical interface.)</p>
<p>The function <code class="docutils literal notranslate"><span class="pre">sys.exit</span></code> can be used to exit immediately your program.
The integer parameter given to this function is the return value of the
program. Usually the return value 0 means that the program ran
successfully, and non-zero integer means that an error occurred. This
return value is accessible from the terminal window from where you
started the program.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise X (word frequencies)</div>
<p>Create function <code class="docutils literal notranslate"><span class="pre">word_frequencies</span></code> that gets a filename as a parameter
and returns a dict with the word frequencies. In the dictionary the keys
are the words and the corresponding values are the number of times that
word occurred in the file specified by the function parameter. Read all
the lines from the file and split the lines into words using the
<code class="docutils literal notranslate"><span class="pre">split()</span></code> method. Further, remove punctuation from the words using the
<code class="docutils literal notranslate"><span class="pre">strip('&quot;[],.:?!')</span></code> method call.</p>
<p>Test this function in the main function using the file <code class="docutils literal notranslate"><span class="pre">alice.txt</span></code>.
The output format should be like: MISSING!!!!</p>
<hr/><hr class="docutils" />
<div class="admonition note">
Exercise X (summary)</div>
<p>Part 1.</p>
<p>Create a function called <code class="docutils literal notranslate"><span class="pre">summary</span></code> that gets a filename as a
parameter. The input file should contain a floating point number on each
line of the file. Make your program read these numbers and then return a
triple containing the sum, average, and standard deviation of these
numbers for the file. As a remainder, the formula for corrected sample
standard deviation is \(</p>
<div class="math notranslate nohighlight">
\sqrt{\frac{\sum_{i=1}^n (x_i - \overline x)^2}{n-1}}</div><p>\), where <span class="math notranslate nohighlight">\(\overline x\)</span> is the average.</p>
<p>Example of usage from the command line:
<code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">src/summary.py</span> <span class="pre">src/example.txt</span> <span class="pre">src/example2.txt</span></code> or
<code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">summary.py</span> <span class="pre">example.txt</span> <span class="pre">example2.txt</span></code> if you are in the folder
src.</p>
<p>The output should look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">File</span><span class="p">:</span> <span class="n">src</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">txt</span> <span class="n">Sum</span><span class="p">:</span> <span class="mf">51.400000</span> <span class="n">Average</span><span class="p">:</span> <span class="mf">10.280000</span> <span class="n">Stddev</span><span class="p">:</span> <span class="mf">8.904606</span>
<span class="n">File</span><span class="p">:</span> <span class="n">src</span><span class="o">/</span><span class="n">example2</span><span class="o">.</span><span class="n">txt</span> <span class="n">Sum</span><span class="p">:</span> <span class="mf">5446.200000</span> <span class="n">Average</span><span class="p">:</span> <span class="mf">1815.400000</span> <span class="n">Stddev</span><span class="p">:</span> <span class="mf">3124.294045</span>
</pre></div>
</div>
<p>Part 2.</p>
<p>If some line doesn’t represent a number, you can just ignore that line.
You can achieve this with the <em>try-except</em> block. An example of
recovering from an exceptional situation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>                 <span class="c1"># The float constructor raises ValueError exception if conversion is no possible</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="c1"># Statements in here are executed when the above conversion fails</span>
</pre></div>
</div>
<p>We will cover more about exceptions later in the course. The <code class="docutils literal notranslate"><span class="pre">main</span></code>
function should call the function summary for each filename in the list
<code class="docutils literal notranslate"><span class="pre">sys.argv[1:]</span></code> of command line parameters.</p>
<hr/><hr class="docutils" />
<div class="admonition note">
Exercise X (file count)</div>
<p>Part 1.</p>
<p>Create a function <code class="docutils literal notranslate"><span class="pre">file_count</span></code> that gets a filename as parameter and
return a triple of numbers. The function should read the file, count the
number of lines, words, and characters in the file, and return a triple
with these count in this order. You get division into words by splitting
at whitespace, you don’t have to remove punctuation.</p>
<p>Part 2.</p>
<p>Create a main function that calls <code class="docutils literal notranslate"><span class="pre">file_count</span></code> for each filename in
the list of command line parameters sys.argv[1:]. For call
<code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">src/file_count</span> <span class="pre">file1</span> <span class="pre">file2</span> <span class="pre">...</span></code> the output should be</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>?      ?       ?       file1
?      ?       ?       file1
...
</pre></div>
</div>
<p>The fields are separated by tabs (<code class="docutils literal notranslate"><span class="pre">\t</span></code>). The fields are in order:
linecount, wordcount, charactercount, filename.</p>
<hr/><hr class="docutils" />
<div class="admonition note">
Exercise X (file extensions)</div>
<p>Part 1.</p>
<p>Write function <code class="docutils literal notranslate"><span class="pre">file_extensions</span></code> that gets as a parameter a filename.
It should read through the lines from this file. Each line contains a
filename. Find the extension for each filename. The function should
return a pair, where the first element is a list containing all
filenames with no extension (no period (.) appears in the filename). The
second element of the pair is a dictionary with extensions as keys and
corresponding values are lists with filenames having that extension.</p>
<p>Sounds a bit complicated, but hopefully the next example will clarify
this. If the file contains the following lines</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">file1</span><span class="o">.</span><span class="n">txt</span>
<span class="n">mydocument</span><span class="o">.</span><span class="n">pdf</span>
<span class="n">file2</span><span class="o">.</span><span class="n">txt</span>
<span class="n">archive</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">test</span>
</pre></div>
</div>
<p>then the return value should be the pair:
<code class="docutils literal notranslate"><span class="pre">([&quot;test&quot;],</span> <span class="pre">{</span> <span class="pre">&quot;txt&quot;</span> <span class="pre">:</span> <span class="pre">[&quot;file1.txt&quot;,</span> <span class="pre">&quot;file2.txt&quot;],</span> <span class="pre">&quot;pdf&quot;</span> <span class="pre">:</span> <span class="pre">[&quot;mydocument.pdf&quot;],</span> <span class="pre">&quot;gz&quot;</span> <span class="pre">:</span> <span class="pre">[&quot;archive.tar.gz&quot;]</span> <span class="pre">}</span> <span class="pre">)</span></code></p>
<p>Part 2.</p>
<p>Write a main method that calls the <code class="docutils literal notranslate"><span class="pre">file_extensions</span></code> function with
“src/filenames.txt” as the argument. Then output a line for each
extension with the number of files with that extension. With the example
in part 1, the output should be</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span> <span class="n">files</span> <span class="k">with</span> <span class="n">no</span> <span class="n">extension</span>
<span class="n">gz</span> <span class="mi">1</span>
<span class="n">pdf</span> <span class="mi">1</span>
<span class="n">txt</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Had there been no filenames without extension then the first line would
have been <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">files</span> <span class="pre">with</span> <span class="pre">no</span> <span class="pre">extension</span></code>. In the printout list the
extensions in alphabetical order.</p>
<hr/></div>
<div class="section" id="Objects-and-classes">
<h2>Objects and classes<a class="headerlink" href="#Objects-and-classes" title="Permalink to this headline">¶</a></h2>
<p>Python is an object-oriented programming language like Java and C++. But
unlike Java, Python doesn’t force you to use classes, inheritance and
methods. If you like, you can also choose the structural programming
paradigm with functions and modules.</p>
<p>Every value in Python is an object. Objects are a way to combine data
and the functions that handle that data. This combination is called
encapsulation. The data items and functions of objects are called
attributes, and in particular the function attributes are called
methods. For example, the operator <code class="docutils literal notranslate"><span class="pre">+</span></code> on integers calls a method of
integers, and the operator <code class="docutils literal notranslate"><span class="pre">+</span></code> on strings calls a method of strings.</p>
<p>Functions, modules, methods, classes, etc are all first class objects.
This means that these objects can be</p>
<ul class="simple">
<li>stored in a container</li>
<li>passed to a function as a parameter</li>
<li>returned by a function</li>
<li>bound to a variable</li>
</ul>
<p>One can access an attribute of an object using the <em>dot operator</em>:
<code class="docutils literal notranslate"><span class="pre">object.attribute</span></code>. For example: if <code class="docutils literal notranslate"><span class="pre">L</span></code> is a list, we can refer to
the method <code class="docutils literal notranslate"><span class="pre">append</span></code> with <code class="docutils literal notranslate"><span class="pre">L.append</span></code>. The method call can look, for
instance, like this: <code class="docutils literal notranslate"><span class="pre">L.append(4)</span></code>. Because also modules are objects
in Python, we can interpret the expression <code class="docutils literal notranslate"><span class="pre">math.pi</span></code> as accessing the
data attribute <code class="docutils literal notranslate"><span class="pre">pi</span></code> of module object <code class="docutils literal notranslate"><span class="pre">math</span></code>.</p>
<p>Numbers like 2 and 100 are instances of type <code class="docutils literal notranslate"><span class="pre">int</span></code>. Similarly,
<code class="docutils literal notranslate"><span class="pre">&quot;hello&quot;</span></code> is an instance of type <code class="docutils literal notranslate"><span class="pre">str</span></code>. When we write <code class="docutils literal notranslate"><span class="pre">s=set()</span></code>,
we are actually creating a new instance of type <code class="docutils literal notranslate"><span class="pre">set</span></code>, and bind the
resulting instance object to <code class="docutils literal notranslate"><span class="pre">s</span></code>.</p>
<p>A user can define his own data types. These are called classes. A user
can call these classes like they were functions, and they return a new
instance object of that type. Classes can be thought as recipes for
creating objects.</p>
<p>An example of class definition:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Documentation string of the class&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">):</span>
        <span class="s2">&quot;This initialises an instance of type ClassName&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">param1</span> <span class="c1"># creates an instance attribute</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">param2</span>      <span class="c1"># creates a local variable of the function</span>
        <span class="c1"># statements ...</span>

    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;This is a method of the class&quot;&quot;&quot;</span>
        <span class="c1"># some statements</span>

    <span class="n">a</span><span class="o">=</span><span class="mi">1</span> <span class="c1"># This creates a class attribute</span>
</pre></div>
</div>
<p>The class definition starts with the class statement. With this
statement you give a name for your new type, and also in parentheses
list the base classes of your class. The next indented block is the
class body. After the whole class body is read, a new type is created.
Note that no instances are created yet. All the attributes and methods
of the class are defined in the class body.</p>
<p>The example class has two methods: <code class="docutils literal notranslate"><span class="pre">__init__</span></code> and <code class="docutils literal notranslate"><span class="pre">f</span></code>. Note that
their first parameter is special: <code class="docutils literal notranslate"><span class="pre">self</span></code>. It corresponds to this
variable of C++ or Java. <code class="docutils literal notranslate"><span class="pre">__init__</span></code> does the initialisation when an
instance is created. At instantiation with <code class="docutils literal notranslate"><span class="pre">i=MyClass(2,3)</span></code> the
parameters <code class="docutils literal notranslate"><span class="pre">param1</span></code> and <code class="docutils literal notranslate"><span class="pre">param2</span></code> are bound to values 2 and 3,
respectively. Now that we have an instance <code class="docutils literal notranslate"><span class="pre">i</span></code>, we can call its method
<code class="docutils literal notranslate"><span class="pre">f</span></code> with the dot operator: <code class="docutils literal notranslate"><span class="pre">i.f(1)</span></code>. The parameters of <code class="docutils literal notranslate"><span class="pre">f</span></code> are
bound in the following way: <code class="docutils literal notranslate"><span class="pre">self=i</span></code> and <code class="docutils literal notranslate"><span class="pre">param1=1</span></code>.</p>
<p>There are differences in how an assignment inside a class creates
variables. The attribute <code class="docutils literal notranslate"><span class="pre">a</span></code> is at class level and is common for all
instances of the class <code class="docutils literal notranslate"><span class="pre">MyClass</span></code>. The variable <code class="docutils literal notranslate"><span class="pre">c</span></code> is a local
variable of the function <code class="docutils literal notranslate"><span class="pre">__init__</span></code>, and cannot therefore be used
outside the function. The attribute <code class="docutils literal notranslate"><span class="pre">b</span></code> is specific to each instance
of <code class="docutils literal notranslate"><span class="pre">MyClass</span></code>. Note that <code class="docutils literal notranslate"><span class="pre">self</span></code> refers to the current instance. An
example: for objects <code class="docutils literal notranslate"><span class="pre">x=MyClass(1,0)</span></code> and <code class="docutils literal notranslate"><span class="pre">y=MyClass(2,0)</span></code> we have
<code class="docutils literal notranslate"><span class="pre">x.b</span> <span class="pre">!=</span> <span class="pre">y.b</span></code>, but <code class="docutils literal notranslate"><span class="pre">x.a</span> <span class="pre">==</span> <span class="pre">y.a</span></code>.</p>
<p>All methods of a class have a mandatory first parameter which refers to
the instance on which you called the method. This parameter is usually
named <code class="docutils literal notranslate"><span class="pre">self</span></code>. If you want to access the class attribute <code class="docutils literal notranslate"><span class="pre">a</span></code> from a
method of the class, use the fully qualified form <code class="docutils literal notranslate"><span class="pre">MyClass.a</span></code>. The
methods whose names both begin and end with two underscores are called
<em>special methods</em>. For example, <code class="docutils literal notranslate"><span class="pre">__init__</span></code> is a special method. These
methods will be discussed in detail later.</p>
<div class="section" id="Instances">
<h3>Instances<a class="headerlink" href="#Instances" title="Permalink to this headline">¶</a></h3>
<p>We can create instances by calling a class like it were a function:
<code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">=</span> <span class="pre">ClassName(...)</span></code>. Then parameters given in the call will be passed
to the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> function. In the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method you can create
the instance specific attributes. If <code class="docutils literal notranslate"><span class="pre">__init__</span></code> is missing, we can
create an instance without giving any parameters. As a consequence, the
instance has no attributes. Later you can (re)bind attributes with the
assignment <code class="docutils literal notranslate"><span class="pre">instance.attribute</span> <span class="pre">=</span> <span class="pre">new</span> <span class="pre">value</span></code>.</p>
<p>If that attribute did not exist before, it will be added to the instance
with the assigned value. In Python we really can add or delete
attributes to/from an existing instance. This is possible because the
attribute names and the corresponding values are actually stored in a
dictionary. This dictionary is also an attribute of the instance and is
called <code class="docutils literal notranslate"><span class="pre">dict</span></code>. Another standard attribute in addition to dict is
called <code class="docutils literal notranslate"><span class="pre">__class__</span></code>. This attribute stores the class of the instance.
That is, the type of the object</p>
</div>
<div class="section" id="Attribute-lookup">
<h3>Attribute lookup<a class="headerlink" href="#Attribute-lookup" title="Permalink to this headline">¶</a></h3>
<p>Suppose <code class="docutils literal notranslate"><span class="pre">x</span></code> is an instance of class <code class="docutils literal notranslate"><span class="pre">X</span></code>, and we want to read an
attribute <code class="docutils literal notranslate"><span class="pre">x.a</span></code>. The lookup has three phases: * First it is checked
whether the attribute <code class="docutils literal notranslate"><span class="pre">a</span></code> is an attribute of the instance <code class="docutils literal notranslate"><span class="pre">x</span></code> * If
not, then it is checked whether <code class="docutils literal notranslate"><span class="pre">a</span></code> is a class attribute of <code class="docutils literal notranslate"><span class="pre">x</span></code>’s
class <code class="docutils literal notranslate"><span class="pre">X</span></code> * If not, then the base classes of <code class="docutils literal notranslate"><span class="pre">X</span></code> are checked</p>
<p>If instead we want to bind the attribute <code class="docutils literal notranslate"><span class="pre">a</span></code>, things are much simpler.
<code class="docutils literal notranslate"><span class="pre">x.a</span> <span class="pre">=</span> <span class="pre">value</span></code> will set the instance attribute. And <code class="docutils literal notranslate"><span class="pre">X.a</span> <span class="pre">=</span> <span class="pre">value</span></code>
will set the class attribute. Note that if a base of <code class="docutils literal notranslate"><span class="pre">X</span></code>, the class
<code class="docutils literal notranslate"><span class="pre">X</span></code>, and the instance <code class="docutils literal notranslate"><span class="pre">x</span></code> each have an attribute called <code class="docutils literal notranslate"><span class="pre">a</span></code>, then
<code class="docutils literal notranslate"><span class="pre">x.a</span></code> hides <code class="docutils literal notranslate"><span class="pre">X.a</span></code>, and <code class="docutils literal notranslate"><span class="pre">X.a</span></code> hides the attribute of the base
class.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise X (prepend)</div>
<p>Create a class called <code class="docutils literal notranslate"><span class="pre">Prepend</span></code>. We create an instance of the class by
giving a string as a parameter to the initializer. The initializer
stores the parameter in an instance attribute <code class="docutils literal notranslate"><span class="pre">start</span></code>. The class also
has a method <code class="docutils literal notranslate"><span class="pre">write(s)</span></code> which prints the string <code class="docutils literal notranslate"><span class="pre">s</span></code> prepended with
the <code class="docutils literal notranslate"><span class="pre">start</span></code> string. An example of usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">p</span><span class="o">=</span><span class="n">Prepend</span><span class="p">(</span><span class="s2">&quot;+++ &quot;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Will print</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+++</span> <span class="n">Hello</span>
</pre></div>
</div>
<p>Try out the class in the main function.</p>
<hr/></div>
<div class="section" id="Inheritance">
<h3>Inheritance<a class="headerlink" href="#Inheritance" title="Permalink to this headline">¶</a></h3>
<p>Inheritance allows us to reuse the code of an existing class <code class="docutils literal notranslate"><span class="pre">B</span></code> in
creating a new class <code class="docutils literal notranslate"><span class="pre">C</span></code>. Let’s recap how the attribute lookup worked
for classes. When looking for an attribute, the lookup procedure starts
with the instance dictionary, and continues with the class attributes.
If both fail, then the attribute is searched from the base classes and,
recursively, from their base classes.</p>
<p>So, it may look like we access an attribute of a class <code class="docutils literal notranslate"><span class="pre">C</span></code>, when in
reality we are accessing the attribute of its base class <code class="docutils literal notranslate"><span class="pre">B</span></code>. In this
case we say that the class <code class="docutils literal notranslate"><span class="pre">C</span></code> inherits the attribute from its base
class <code class="docutils literal notranslate"><span class="pre">B</span></code>. If we have attributes with the same name in both the class
and its base class, the attribute of the base class is hidden. We say
that the class <code class="docutils literal notranslate"><span class="pre">C</span></code> overrides the attribute of the base class <code class="docutils literal notranslate"><span class="pre">B</span></code>.
Terminology: <code class="docutils literal notranslate"><span class="pre">B</span></code> is a base class and <code class="docutils literal notranslate"><span class="pre">C</span></code> is a derived class.</p>
<p>Example:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [214]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Executing B.f&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Executing B.g&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">B</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Executing C.g&quot;</span><span class="p">)</span>

<span class="n">x</span><span class="o">=</span><span class="n">C</span><span class="p">()</span>
<span class="n">x</span><span class="o">.</span><span class="n">f</span><span class="p">()</span> <span class="c1"># inherited from B</span>
<span class="n">x</span><span class="o">.</span><span class="n">g</span><span class="p">()</span> <span class="c1"># overridden by C</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Executing B.f
Executing C.g
</pre></div></div>
</div>
<p>A derived class is sometimes also called a <em>subclass</em> and the base class
is called <em>super class</em>. The inheritance relation of two classes <code class="docutils literal notranslate"><span class="pre">B</span></code>
and <code class="docutils literal notranslate"><span class="pre">C</span></code> can be tested with function <code class="docutils literal notranslate"><span class="pre">issubclass</span></code>:
<code class="docutils literal notranslate"><span class="pre">issubclass(C,B)==True</span></code> but <code class="docutils literal notranslate"><span class="pre">issubclass(B,C)==False</span></code> Function
<code class="docutils literal notranslate"><span class="pre">isinstance(obj,</span> <span class="pre">cls)</span></code> allows us to test whether an instance has type
<code class="docutils literal notranslate"><span class="pre">cls</span></code> or has an ancestor class of type <code class="docutils literal notranslate"><span class="pre">cls</span></code>. Let’s create instances
<code class="docutils literal notranslate"><span class="pre">x=C()</span></code> and <code class="docutils literal notranslate"><span class="pre">y=B()</span></code>. Now we have
<code class="docutils literal notranslate"><span class="pre">isinstance(x,B)==</span> <span class="pre">isinstance(x,C)==isinstance(y,B)==True</span></code>. But
<code class="docutils literal notranslate"><span class="pre">isinstance(y,C)==False</span></code>.</p>
<div class="figure" id="id4">
<img alt="inheritance\_hierarchy.svg" src="_images/inheritance_hierarchy.svg" /><p class="caption"><span class="caption-text">inheritance_hierarchy.svg</span></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">object</span></code> should be a base class or an ancestor class of every other
class. This means that <code class="docutils literal notranslate"><span class="pre">isinstance(x,</span> <span class="pre">object)==True</span></code> for all instances
<code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>By deriving from an existing class we can modify and/or extend its
behaviour, without touching the original class. For example, if we want
to add one method to a list class, we can use inheritance. Therefore we
have to only code the part that has changed and reuse the rest of the
code of type list. Another use of inheritance is to create conceptual
hierarchies. For instance, later we will learn about the exception
hierarchy of Python. Third use would be to use classes to create
interfaces. There can be several classes that have same interface (that
is, they offer the same attributes), but their behaviour or
implementation can be very different. This allows changing a part of
your program with minimal changes required elsewhere in the code.</p>
<p>If in the definition of the method <code class="docutils literal notranslate"><span class="pre">C.f</span></code> we need to call the
corresponding method of class <code class="docutils literal notranslate"><span class="pre">A</span></code>, we can use the fully qualified call
<code class="docutils literal notranslate"><span class="pre">A.f(...)</span></code>. This is called delegation. It is useful, for instance,
when you want to call the init method of the base class from the init of
the derived class to initialise the base class attributes.</p>
</div>
<div class="section" id="Special-methods">
<h3>Special methods<a class="headerlink" href="#Special-methods" title="Permalink to this headline">¶</a></h3>
<p>We have already encountered one special method, namely the <code class="docutils literal notranslate"><span class="pre">__init__</span></code>
method. This method sets the instance attributes to some initial value.
Its first parameter is <code class="docutils literal notranslate"><span class="pre">self</span></code>, and the subsequent parameters are the
ones that were passed to the call of the class. The <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method
should return no value. In the following slides the main general purpose
special methods are introduced. They are executed when certain
operations on objects are performed.</p>
<p>In the following, <code class="docutils literal notranslate"><span class="pre">C</span></code> is a class and <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are its
instances. <code class="docutils literal notranslate"><span class="pre">__hash__</span></code> returns an int value, with the following
requirement: <code class="docutils literal notranslate"><span class="pre">x==y</span></code> implies <code class="docutils literal notranslate"><span class="pre">x.__hash__()</span> <span class="pre">==</span> <span class="pre">y.__hash__()</span></code>. The
value is used in storing objects in dictionaries and sets. The instances
<code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> must be immutable A class with <code class="docutils literal notranslate"><span class="pre">__call__</span></code> method makes
its instances callable. I.e. the call <code class="docutils literal notranslate"><span class="pre">x(a,b,</span> <span class="pre">...)</span></code> will result in
calling this special method with the given parameters. The method
<code class="docutils literal notranslate"><span class="pre">__del__</span></code> gets called when the corresponding instance gets deleted.
Method <code class="docutils literal notranslate"><span class="pre">__new__</span></code> is used to control the creation of new instances. It
can be used, for example, to create classes that have only one instance.</p>
<p>The method <code class="docutils literal notranslate"><span class="pre">__str__</span></code> is called when the print statement needs to print
the value of an instance. It returns a string. The print-format
expression calls this for conversion <code class="docutils literal notranslate"><span class="pre">%s</span></code>. The method <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> is
called when the interactive interpreter prints the value of an evaluated
expression, and when the conversion <code class="docutils literal notranslate"><span class="pre">%r</span></code> for print-format expression
is used. Returns a canonical representation string that (at least in
theory) can be used to recreate the original object. Special methods
<code class="docutils literal notranslate"><span class="pre">__eq__</span></code>, <code class="docutils literal notranslate"><span class="pre">__ge__</span></code>, <code class="docutils literal notranslate"><span class="pre">__gt__</span></code>, <code class="docutils literal notranslate"><span class="pre">__le__</span></code>, <code class="docutils literal notranslate"><span class="pre">__lt__</span></code>, and
<code class="docutils literal notranslate"><span class="pre">__ne__</span></code> get called when the corresponding operators <code class="docutils literal notranslate"><span class="pre">x==y</span></code>,
<code class="docutils literal notranslate"><span class="pre">x&gt;=y</span></code>, <code class="docutils literal notranslate"><span class="pre">x&gt;y</span></code>, <code class="docutils literal notranslate"><span class="pre">x&lt;=y</span></code>, <code class="docutils literal notranslate"><span class="pre">x&lt;y</span></code>, and <code class="docutils literal notranslate"><span class="pre">x!=y</span></code> are used.</p>
<p>If you want the instances of your class to support the numeric
operations (like +, -, *, /, etc), you must define a set of special
methods in you class. For example, the expression x+y will result in a
call x. add (y) which should return the result of the operation. Here
are a few of the most common numerical special methods:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">__add__</span></code></td>
<td>addition (+)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">__sub__</span></code></td>
<td>subtraction (-)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">__mul__</span></code></td>
<td>multiplication (*) | |<code class="docutils literal notranslate"><span class="pre">__truediv__</span></code> | division (/) | |<code class="docutils literal notranslate"><span class="pre">__floordiv__</span></code> | division (//) | ———————–</td>
</tr>
</tbody>
</table>
<p>The corresponding augmented assignments += -= *= /= have special
methods iadd , isub , imul , idiv. The conversion functions complex(),
float(), int() and long() call the following special methods:</p>
<table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">__complex__</span></code></td>
<td>convert to a complex number</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">__float__</span></code></td>
<td>convert to a float</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">__int__</span></code></td>
<td>convert to an integer</td>
</tr>
</tbody>
</table>
<p>In addition to the normal methods of containers, like the append method
of the list, there are several operations that are handled by calls to
special methods of the container class. The test whether <code class="docutils literal notranslate"><span class="pre">x</span></code> is a
member of container <code class="docutils literal notranslate"><span class="pre">c</span></code> is done by the operation <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">in</span> <span class="pre">c</span></code>. The
corresponding special method call is <code class="docutils literal notranslate"><span class="pre">x.__contains__(y)</span></code>. Deletion of
an element of container <code class="docutils literal notranslate"><span class="pre">c</span></code> can be done with the operation
<code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">c[key]</span></code>. This will result in the method call <code class="docutils literal notranslate"><span class="pre">x.__delitem__</span></code>.</p>
<p>Reading an item of a container <code class="docutils literal notranslate"><span class="pre">c</span></code> is done with the operation
<code class="docutils literal notranslate"><span class="pre">c[key]</span></code>. The corresponding method call is <code class="docutils literal notranslate"><span class="pre">c.__getitem__(key)</span></code>.
Similarly, setting an item with <code class="docutils literal notranslate"><span class="pre">c[key]=value</span></code> results in the call
<code class="docutils literal notranslate"><span class="pre">c.__setitem__(key,value)</span></code>. The number of elements in a container
<code class="docutils literal notranslate"><span class="pre">c</span></code> can be queried with the function call <code class="docutils literal notranslate"><span class="pre">len(c)</span></code>. This function
call actually calls the special method <code class="docutils literal notranslate"><span class="pre">c.__len__</span></code>. The call
<code class="docutils literal notranslate"><span class="pre">iter(c)</span></code> will call the special method <code class="docutils literal notranslate"><span class="pre">__iter__</span></code>. More about the
purpose of this function in the next few slides.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise X (rational)</div>
<p>Create a class <code class="docutils literal notranslate"><span class="pre">Rational</span></code> whose instances are rational numbers. A new
rational number can be created with the call to the class. For example,
the call <code class="docutils literal notranslate"><span class="pre">r=Rational(1,4)</span></code> creates a rational number “one quarter”.
Make the instances support the following operations: <code class="docutils literal notranslate"><span class="pre">+</span></code> <code class="docutils literal notranslate"><span class="pre">-</span></code> <code class="docutils literal notranslate"><span class="pre">*</span></code>
<code class="docutils literal notranslate"><span class="pre">/</span></code> <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> <code class="docutils literal notranslate"><span class="pre">==</span></code> with their natural behaviour. Make the
rationals also printable so that from the printout we can clearly see
that they are rational numbers.</p>
<hr/></div>
</div>
<div class="section" id="Exceptions">
<h2>Exceptions<a class="headerlink" href="#Exceptions" title="Permalink to this headline">¶</a></h2>
<p>When an error occurs, what can we do?</p>
<ul class="simple">
<li>Print an error message</li>
<li>Stop the execution of a program</li>
<li>Indicate the error by returning a special value, like -1 or None</li>
<li>Ignore the error</li>
<li>…</li>
</ul>
<p>These solutions tend to combine the indication of a problem and the
reaction to the problem indication. The behaviour of the program in
error situations cannot the changed, they are fixed in the
implementation of the function. When an erroneous situation is noticed,
it may not be clear how to handle the situation. Usually the user or an
instance that called a function knows what to do.</p>
<p>Most modern computer languages have a system called exception handling.
This system separates the recognition of errors and the handling of
these situations. We can signal an error or anomalous situation by
raising an exception. Exceptions can be raised in Python with the
<code class="docutils literal notranslate"><span class="pre">raise</span></code> statement:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">raise</span></code> instance</li>
<li><code class="docutils literal notranslate"><span class="pre">raise</span></code> exception class [, expression]</li>
</ul>
<p>In the second form, if the expression exists, it is a tuple of
parameters given to exception class.</p>
<p>The functions of the Python standard library raise exceptions in error
situations. Sometimes exceptions aren’t really errors. For example, when
an iterator runs out of elements, it will signal this by raising the
<code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> exception. Another less erroneus exception is the
<code class="docutils literal notranslate"><span class="pre">Warning</span></code> exception.</p>
<p>The general form of exception catching statement is the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># here are the statements that can cause exceptions</span>
<span class="k">except</span> <span class="p">(</span><span class="n">Exceptionname1</span><span class="p">,</span> <span class="n">Exceptionname2</span><span class="p">,</span> <span class="o">...</span><span class="p">):</span>
    <span class="c1"># here we handle the exceptions</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># this gets executed if try-block caused no exceptions</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="c1"># this is always executed, clean-up code</span>
</pre></div>
</div>
<p>Usually, just the try and except parts are needed.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [215]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">L</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="k">try</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Index does not exist&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Index does not exist
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [216]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">def</span> <span class="nf">compute_average</span><span class="p">(</span><span class="n">L</span><span class="p">):</span>
    <span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
    <span class="n">s</span><span class="o">=</span><span class="nb">sum</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">/</span><span class="n">n</span> <span class="c1"># error is noticed here !!!</span>
<span class="n">mylist</span><span class="o">=</span><span class="p">[]</span>
<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">x</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Give a number (non-number quits): &quot;</span><span class="p">))</span>
        <span class="n">mylist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">break</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">average</span><span class="o">=</span><span class="n">compute_average</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average is&quot;</span><span class="p">,</span> <span class="n">average</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
    <span class="c1"># and the error is handled here</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tried to compute the average of empty list of numbers&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Something strange happened&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Give a number (non-number quits): 12
Give a number (non-number quits): a
Average is 12.0
</pre></div></div>
</div>
<div class="section" id="Exception-hierarchy">
<h3>Exception hierarchy<a class="headerlink" href="#Exception-hierarchy" title="Permalink to this headline">¶</a></h3>
<p>In Python exceptions are objects, like all values in Python. These
objects are instantiated from exception classes. Exception classes form
naturally hierarchies:</p>
<ul class="simple">
<li>New exception classes can be made by inheriting from existing
exception classes and extending them</li>
<li>The root of this hierarchy is the class Exception</li>
<li>Python defines several base classes to derive from, and several
ready-to-use exception classes</li>
</ul>
<div class="figure" id="id5">
<img alt="exception hierarchy" src="_images/exception_hierarchy.svg" /><p class="caption"><span class="caption-text">exception hierarchy</span></p>
</div>
</div>
<div class="section" id="Too-general-exception-specifications">
<h3>Too general exception specifications<a class="headerlink" href="#Too-general-exception-specifications" title="Permalink to this headline">¶</a></h3>
<p>The exception hierarchy allows to catch multiple similar exceptions by
catching their common base class. This feature has to be used carefully.
Over-general exception specification, like <code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">Exception:</span></code>, can
hide the real reason for an error. Example of this:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [217]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">s</span><span class="o">=</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Give a number: &quot;</span><span class="p">)</span>
<span class="n">s</span><span class="o">=</span><span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># strip the \n character from the end</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">x</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">wr1te</span><span class="p">(</span><span class="s2">&quot;You entered </span><span class="si">%d</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">x</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You didn’t enter a number&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Give a number: 12
You didn’t enter a number
</pre></div></div>
</div>
<p>In the previous example, if the user doesn’t enter a string that
represents an integer, a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> is raised by the int function.
Instead of catching the <code class="docutils literal notranslate"><span class="pre">ValueError</span></code>, we catch the root of the
exception hierarchy, namely <code class="docutils literal notranslate"><span class="pre">Exception</span></code>. This results in catching all
possible exceptions. But this will cause one typing error in the program
to go undetected. Change the exception specification from <code class="docutils literal notranslate"><span class="pre">Exception</span></code>
to <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> to see what this error is.</p>
</div>
<div class="section" id="What-is-the-error-handling-policy-in-Python">
<h3>What is the error handling policy in Python<a class="headerlink" href="#What-is-the-error-handling-policy-in-Python" title="Permalink to this headline">¶</a></h3>
<p>Python uses a different approach to error checking than many other
common languages. Instead of trying to beforehand check that all the
inputs are of correct type and then contents of input variables are
sensible for some operations, Python first tries the operations and then
checks whether they caused any exceptions. This is partly what duck
typing is about: a function works for a set of inputs if all the
operations in the function body make sense for those inputs. So, that’s
why the parameters of functions aren’t specified to be of any certain
type.</p>
<hr class="docutils" />
<div class="admonition note">
Exercise X (extract numbers)</div>
<p>Write a function <code class="docutils literal notranslate"><span class="pre">extract_numbers</span></code> that gets a string as a parameter.
It should return a list of numbers that can be both ints and floats.
Split the string to words at whitespace using the <code class="docutils literal notranslate"><span class="pre">split()</span></code> method.
Then iterate through each word, and initially try to convert to an int.
If unsuccesful, then try to convert to a float. If not a number then
skip the word.</p>
<p>Example run: <code class="docutils literal notranslate"><span class="pre">print(extract_numbers(&quot;abd</span> <span class="pre">123</span> <span class="pre">1.2</span> <span class="pre">test</span> <span class="pre">13.2</span> <span class="pre">-1&quot;))</span></code> will
return <code class="docutils literal notranslate"><span class="pre">[123,</span> <span class="pre">1.2,</span> <span class="pre">13.2,</span> <span class="pre">-1]</span></code></p>
<hr/></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Python</a><ul>
<li><a class="reference internal" href="#Basic-concepts">Basic concepts</a><ul>
<li><a class="reference internal" href="#Basic-input-and-output">Basic input and output</a></li>
<li><a class="reference internal" href="#Indentation">Indentation</a></li>
<li><a class="reference internal" href="#Variables-and-data-types">Variables and data types</a><ul>
<li><a class="reference internal" href="#Creating-strings">Creating strings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Expressions">Expressions</a></li>
<li><a class="reference internal" href="#Statements">Statements</a><ul>
<li><a class="reference internal" href="#Loops-for-repetitive-tasks">Loops for repetitive tasks</a></li>
<li><a class="reference internal" href="#Decision-making-with-the-if-statement">Decision making with the if statement</a></li>
<li><a class="reference internal" href="#Breaking-and-continuing-loop">Breaking and continuing loop</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Functions">Functions</a><ul>
<li><a class="reference internal" href="#Visibility-of-variables">Visibility of variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Data-structures">Data structures</a><ul>
<li><a class="reference internal" href="#Sequences">Sequences</a></li>
<li><a class="reference internal" href="#Modifying-lists">Modifying lists</a></li>
<li><a class="reference internal" href="#Generating-sequences">Generating sequences</a></li>
<li><a class="reference internal" href="#Sorting-sequences">Sorting sequences</a></li>
<li><a class="reference internal" href="#Zipping-sequences">Zipping sequences</a></li>
<li><a class="reference internal" href="#Enumerating-sequences">Enumerating sequences</a></li>
<li><a class="reference internal" href="#Dictionaries">Dictionaries</a></li>
<li><a class="reference internal" href="#Sets">Sets</a></li>
<li><a class="reference internal" href="#Miscellaneous-stuff">Miscellaneous stuff</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Compact-way-of-creating-data-structures">Compact way of creating data structures</a></li>
<li><a class="reference internal" href="#Processing-sequences">Processing sequences</a><ul>
<li><a class="reference internal" href="#Map-and-lambda-functions">Map and lambda functions</a></li>
<li><a class="reference internal" href="#Filter-function">Filter function</a></li>
<li><a class="reference internal" href="#The-reduce-function">The reduce function</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#String-handling">String handling</a><ul>
<li><a class="reference internal" href="#Classification-of-strings">Classification of strings</a></li>
<li><a class="reference internal" href="#String-transformations">String transformations</a></li>
<li><a class="reference internal" href="#Searching-for-substrings">Searching for substrings</a></li>
<li><a class="reference internal" href="#Trimming-and-adjusting">Trimming and adjusting</a></li>
<li><a class="reference internal" href="#Joining-and-splitting">Joining and splitting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Modules">Modules</a><ul>
<li><a class="reference internal" href="#Using-modules">Using modules</a></li>
<li><a class="reference internal" href="#Breaking-the-namespace">Breaking the namespace</a></li>
<li><a class="reference internal" href="#Module-lookup">Module lookup</a></li>
<li><a class="reference internal" href="#Module-hierarchy">Module hierarchy</a></li>
<li><a class="reference internal" href="#Importing-from-packages">Importing from packages</a></li>
<li><a class="reference internal" href="#Correspondence-between-folder-and-module-hierarchies">Correspondence between folder and module hierarchies</a></li>
<li><a class="reference internal" href="#Contents-of-a-module">Contents of a module</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Regular-expressions">Regular expressions</a><ul>
<li><a class="reference internal" href="#Examples">Examples</a></li>
<li><a class="reference internal" href="#Patterns">Patterns</a></li>
<li><a class="reference internal" href="#Match-and-search-functions">Match and search functions</a></li>
<li><a class="reference internal" href="#Functions-in-the-re-module">Functions in the <code class="docutils literal notranslate"><span class="pre">re</span></code> module</a></li>
<li><a class="reference internal" href="#Match-object">Match object</a></li>
<li><a class="reference internal" href="#Miscellaneous-stuff">Miscellaneous stuff</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Basic-file-processing">Basic file processing</a><ul>
<li><a class="reference internal" href="#Some-common-file-object-methods">Some common file object methods</a></li>
<li><a class="reference internal" href="#Standard-file-objects">Standard file objects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sys-module">sys module</a></li>
<li><a class="reference internal" href="#Objects-and-classes">Objects and classes</a><ul>
<li><a class="reference internal" href="#Instances">Instances</a></li>
<li><a class="reference internal" href="#Attribute-lookup">Attribute lookup</a></li>
<li><a class="reference internal" href="#Inheritance">Inheritance</a></li>
<li><a class="reference internal" href="#Special-methods">Special methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Exceptions">Exceptions</a><ul>
<li><a class="reference internal" href="#Exception-hierarchy">Exception hierarchy</a></li>
<li><a class="reference internal" href="#Too-general-exception-specifications">Too general exception specifications</a></li>
<li><a class="reference internal" href="#What-is-the-error-handling-policy-in-Python">What is the error handling policy in Python</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="instructions.html"
                        title="previous chapter">Instructions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="numpy.html"
                        title="next chapter">Numpy</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/basics.ipynb.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="numpy.html" title="Numpy"
             >next</a> |</li>
        <li class="right" >
          <a href="instructions.html" title="Instructions"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Data analysis with Python  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Jarkko Toivonen.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>